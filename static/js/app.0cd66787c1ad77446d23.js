!function(e){function t(t){for(var n,s,i=t[0],l=t[1],u=t[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);f.length;)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={0:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;o.push(["Vtdi",1]),r()}({"+eex":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"MenuBar",components:{IconMoreVert:n(r("f8sa")).default},props:{more:{type:Boolean,default:!0}},data:function(){return{showMore:!1}},methods:{openMoreMenu:function(e){e.stopPropagation(),this.showMore=!0,document.addEventListener("click",this.handleClickOutside)},handleClickOutside:function(e){var t=document.getElementById("more-menu");null===t||t.contains(e.target)||(this.showMore=!1)}},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}};t.default=a},"+gRR":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("oCYn")),o=n(r("8jTM")),s=n(r("J8r6")),i=n(r("aG/g"));r("5H+A"),r("eWlR"),a.default.config.productionTip=!1;t.default=function(e,t){return void 0!==t&&t.length>0&&t.forEach((function(e){return a.default.use(e,{store:s.default,router:o.default})})),new a.default({el:e,store:s.default,router:o.default,components:{App:i.default},template:"<App/>"})}},"+klp":function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}})])}),[],!1,null,null,null);t.default=a.exports},"+mU5":function(e,t,r){"use strict";r.r(t);var n=r("ONIP"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"+r5b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e)return"";var t=document.createElement("div");return t.innerHTML=e.value,t.textContent||t.innerText||""}},"+t6u":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeGeometries=function(e){var t=e.filter((function(e){return!!e}));if(0===t.length)return"";if(1===t.length)return t[0];var r=t.map(n.parse),a=r.reduce((function(e,t){if(!t)return e;if("GeometryCollection"!==t.type)return e.geometries.some((function(e){return o(e,t)}))?e:{type:"GeometryCollection",geometries:e.geometries.concat(t)};var r=t.geometries.filter((function(t){return!e.geometries.some((function(e){return o(e,t)}))}));return{type:"GeometryCollection",geometries:e.geometries.concat(r)}}),{type:"GeometryCollection",geometries:[]});return(0,n.stringify)(a)},t.removeGeometry=function(e,t){if(!e||"GEOMETRYCOLLECTION EMPTY"===e)return"";if(!t||"GEOMETRYCOLLECTION EMPTY"===t)return e;var r=(0,n.parse)(e),a=(0,n.parse)(t);if("GeometryCollection"!==r.type&&"GeometryCollection"!==a.type)return o(r,a)?"":e;if("GeometryCollection"===r.type&&"GeometryCollection"!==a.type){var s={type:"GeometryCollection",geometries:r.geometries.filter((function(e){return!o(e,a)}))};return s.geometries.length>0?(0,n.stringify)(s):""}if("GeometryCollection"===r.type&&"GeometryCollection"===a.type){var i={type:"GeometryCollection",geometries:r.geometries.filter((function(e){return!a.geometries.some((function(t){return o(e,t)}))}))};return i.geometries.length>0?(0,n.stringify)(i):""}if("GeometryCollection"!==r.type&&"GeometryCollection"===a.type){return a.geometries.some((function(e){return o(r,e)}))?"":e}throw new Error("Format(s) not recognized as valid WKT.")},t.isNearby=function(e,t,r){var o="string"==typeof t?(0,n.parse)(t):t,s=["GeometryCollection","MultiPoint","MultiLineString","MultiPolygon"].includes(o.type)?(0,a.bboxPolygon)((0,a.bbox)(o)).geometry:o;if((0,a.booleanContains)(s,{type:"Point",coordinates:e}))return!0;var i=(0,a.circle)(e,r,{units:"meters"});if("Polygon"===s.type)return(0,a.booleanOverlap)(i,s);if("LineString"===s.type)return(0,a.booleanCrosses)(i,s);if("Point"===s.type)return(0,a.booleanContains)(i,s);throw new TypeError("Check that the shape parameter is properly formatted WKT or GeoJSON")};var n=r("Mkpm"),a=r("WVt+");function o(e,t){return JSON.stringify(e.coordinates)===JSON.stringify(t.coordinates)}},"0VQf":function(e,t,r){"use strict";r.r(t);var n=r("UiWD"),a=r("PoNo");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("qF9E");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"693d47c4",null);t.default=i.exports},"1kqF":function(e,t,r){},"2A+E":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("wkee")),o=n(r("OTyp")),s=n(r("iVBF")),i=n(r("HQ1J")),l={name:"AllLogsMenuBar",components:{MenuBar:a.default,IconCloudUpload:o.default,IconFilter:s.default,IconMenu:i.default}};t.default=l},"2mNX":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:e.id,name:e.id},domProps:{checked:e.selected}}),e._v(" "),r("label",{class:[{selected:e.selected},{small:e.small}],attrs:{for:e.id},on:{click:function(t){e.$emit("input",e.checkChecked(e.id))}}},[e._v("\n    "+e._s(e.label)+"\n  ")])])},a=[]},"3TeU":function(e,t,r){"use strict";var n=r("jjgV");r.n(n).a},"3sS4":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("wkee")),o=n(r("8HxT")),s={name:"EditMapMenuBar",components:{MenuBar:a.default,IconArrowBack:o.default},props:["logs","id"],computed:{logLink:function(){return{name:"edit-log",params:{id:this.id,tab:"SECOND"}}}}};t.default=s},"4JU/":function(e,t,r){"use strict";var n=r("WnpN");r.n(n).a},"4gjd":function(e,t,r){"use strict";r.r(t);var n=r("R9Xw"),a=r("Fp97");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("wWkD");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,null,null);t.default=i.exports},"5FK+":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("9TKf")),o=n(r("fDWo")),s=n(r("InZg")),i=n(r("hdPq")),l=n(r("efym")),u=n(r("RmFW")),c={version:4,name:"farmos",stores:[{name:"logs",keyPath:"localID",autoIncrement:!1,upgrades:a.default},{name:"assets",keyPath:"id",autoIncrement:!1,upgrades:o.default},{name:"areas",keyPath:"tid",autoIncrement:!1,upgrades:s.default},{name:"units",keyPath:"tid",autoIncrement:!1,upgrades:i.default},{name:"categories",keyPath:"tid",autoIncrement:!1,upgrades:l.default},{name:"equipment",keyPath:"id",autoIncrement:!1,upgrades:u.default}]};t.default=c},"5H+A":function(e,t,r){},"5N10":function(e,t,r){"use strict";var n=r("WWDh");r.n(n).a},"6JTb":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("J4zp")),s=n(r("cDf5"));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){return{install:function(t,r){var n=r.store,i=r.router,u=e.drawer,c=e.filters,d=e.name,f=e.routes;n.commit("updateModule",{name:d,filters:c}),t.component("".concat(d,"-drawer-items"),l({},u,{name:"".concat(d,"-drawer-items")})),i.addRoutes(function e(t,r,n){return Array.isArray(n)?n.map((function(n){var i=n.path,u=n.name,c=n.component,d=n.components,f=n.children,m=n.meta,p=n.params,v=n.props,g=n.query;return{path:i,name:u,component:"object"!==(0,s.default)(c)?void 0:t.component(c.name,c),components:"object"!==(0,s.default)(d)?void 0:Object.entries(d).reduce((function(e,r){var n=(0,o.default)(r,2),s=n[0],i=n[1];return l({},e,(0,a.default)({},s,t.component(i.name,i)))}),{}),children:e(t,r,f),meta:l({},m,{module:r}),params:p,props:v,query:g}})):void 0}(t,d,f))}}};t.default=u},"6nSO":function(e,t,r){"use strict";r.r(t);var n=r("98m3"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"7XZL":function(e,t,r){},"7faE":function(e,t,r){"use strict";var n=r("TbpJ");r.n(n).a},"7sLs":function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}})])}),[],!1,null,null,null);t.default=a.exports},"84RJ":function(e,t,r){"use strict";r.r(t);var n=r("OKhj"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"8DBe":function(e,t,r){"use strict";r.r(t);var n=r("+eex"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},"8HxT":function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])}),[],!1,null,null,null);t.default=a.exports},"8hbF":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("J4zp"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e,t){return{createLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Math.floor(Date.now()/1e3),n={changed:r,data:t.name||"",conflicts:[]},a={changed:r,data:t.type||"farm_activity",conflicts:[]},s={changed:r,data:t.timestamp||r,conflicts:[]},l={changed:r,data:t.done||!1,conflicts:[]},u=t.localID,c=void 0===u?null:u,d=t.isCachedLocally,f=void 0!==d&&d,m=t.wasPushedToServer,p=void 0!==m&&m,v=t.isReadyToSync,g=void 0!==v&&v,h=t.modules,y=void 0===h?[]:h,b=e[a.data].fields,_=Object.entries(b).map((function(e){var n=(0,o.default)(e,2),a=n[0],s=n[1].default_value,i=t[a]||s;return[a,{changed:r,data:i,conflicts:[]}]}));return i({},Object.fromEntries(_),{name:n,type:a,timestamp:s,done:l,localID:c,isCachedLocally:f,wasPushedToServer:p,isReadyToSync:g,modules:y})},updateLog:function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Math.floor(Date.now()/1e3),s=function(e,r){var o;return void 0!==n[e]?{changed:a,data:n[e],conflicts:t[e].conflicts||[]}:void 0!==(null===(o=t[e])||void 0===o?void 0:o.data)?{changed:t[e].changed,data:t[e].data,conflicts:t[e].conflicts||[]}:{changed:a,data:r,conflicts:[]}},l=s("name",""),u=s("type","farm_activity"),c=s("timestamp",a),d=s("done",!1),f=null===(r=e[u.data])||void 0===r?void 0:r.fields,m=f?Object.entries(f):Object.entries(t),p=m.map((function(e){var t=(0,o.default)(e,2),r=t[0],n=t[1].default_value;return[r,s(r,void 0===n?null:n)]})),v=function(e,r){return void 0!==n[e]?n[e]:void 0!==t[e]?t[e]:r};return i({},Object.fromEntries(p),{name:l,type:u,timestamp:c,done:d,url:n.url||t.url,id:n.id||t.id,localID:n.localID||t.localID,isCachedLocally:v("isCachedLocally",!1),wasPushedToServer:v("wasPushedToServer",!1),isReadyToSync:v("isReadyToSync",!1),modules:n.modules||t.modules||[]})},formatLogForServer:function(t){var r,n=Math.floor(Date.now()/1e3),a=function(e,r){return void 0!==t[e].data?t[e].data:r},s=a("name",""),l=a("type","farm_activity"),u=a("timestamp",n),c=a("done",!1),d=null===(r=e[l])||void 0===r?void 0:r.fields,f=(d?Object.entries(d):Object.entries(t)).map((function(e){var r=(0,o.default)(e,2),n=r[0],s=r[1].default_value,i=void 0===s?null:s;return[n,"notes"===n&&null===t.notes.data?{value:"",format:"farm_format"}:a(n,i)]})),m=i({},Object.fromEntries(f),{name:s,type:l,timestamp:u,done:c});return t.id&&(m.id=t.id),m},mergeLogFromServer:function(r,n){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=Math.floor(Date.now()/1e3);r.changed=+r.changed,r.timestamp=+r.timestamp,r.done=+r.done;var u=n?function(e,a){return void 0!==s[e]?{changed:l,data:s[e],conflicts:n[e].conflicts}:r.changed>n[e].changed&&n.wasPushedToServer?{changed:r.changed,data:r[e],conflicts:n[e].conflicts}:r.changed<n[e].changed||t>n[e].changed?{changed:n[e].changed,data:n[e].data,conflicts:n[e].conflicts}:r.changed>n[e].changed&&!n.wasPushedToServer?{changed:n[e].changed,data:n[e].data,conflicts:n[e].conflicts.concat([{changed:r.changed,data:r[e]}])}:{changed:n[e].changed||l,data:n[e].data||a,conflicts:n[e].conflicts||[]}}:function(e,t){return r[e]?{changed:l,data:s[e]||r[e],conflicts:[]}:{changed:l,data:t,conflicts:[]}},c=u("name",""),d=u("type","farm_activity"),f=u("timestamp",l),m=u("done",!1),p=null===(a=e[d.data])||void 0===a?void 0:a.fields,v=p?Object.entries(p):Object.entries(r),g=v.map((function(e){var t=(0,o.default)(e,2),n=t[0],a=t[1],s=a.default_value;return"text_long"===a.type&&Array.isArray(r[n])&&(r[n]=null),[n,u(n,s)]})),h=function(e,t){return void 0!==s[e]?s[e]:n&&void 0!==n[e]?n[e]:t};return i({},Object.fromEntries(g),{name:c,type:d,timestamp:f,done:m,localID:null==n?void 0:n.localID,url:r.url,id:r.id,isCachedLocally:h("isCachedLocally",!1),wasPushedToServer:h("wasPushedToServer",!0),isReadyToSync:h("isReadyToSync",!1),modules:h("modules",[])})}}};t.default=l},"8jGb":function(e,t,r){"use strict";r.r(t);r("Pi16");var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"spinner",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("g",[t("circle",{staticClass:"path",attrs:{cx:"12",cy:"12",r:"10",fill:"none","stroke-width":"3"}})])])}),[],!1,null,"c7231fb4",null);t.default=a.exports},"8jTM":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("oCYn")),o=n(r("jE9Z")),s=n(r("ZTW0")),i=n(r("kS0b"));a.default.use(o.default);var l=new o.default({routes:[{path:"/",redirect:"/logs"},{path:"/login",name:"Login",component:s.default},{path:"/logout",name:"Logout",component:i.default}]});l.beforeEach((function(e,t,r){"/login"===t.path&&"/logout"===e.path&&r("/"),r()}));var u=l;t.default=u},"8pOr":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("J4zp")),o=n(r("cDf5")),s=[function(e,t){var r=t.logTypes;if(!e.name.data){var n=new Date(1e3*e.timestamp.data),a=n.toLocaleDateString(),o=n.toLocaleTimeString(void 0,{timeStyle:"short",hour12:!1});return{syncable:!0,updateProps:{name:"".concat(r[e.type.data].label," ").concat(a," - ").concat(o)}}}return{syncable:!0}},function(e){return Number.isNaN(Number(e.timestamp.data))?{syncable:!1,reason:"Every log must have a valid date field."}:{syncable:!0}},function(e,t){var r=t.logTypes[e.type.data];return Object.entries(r.fields).reduce((function(t,n){var s,i=t.syncable,l=t.reason,u=(0,a.default)(n,2),c=u[0],d=u[1],f=d.required,m=d.label;return f&&(!(s=e[c].data)||Array.isArray(s)&&s.length<1||"object"===(0,o.default)(s)&&Object.values(s).length<1)?{syncable:!1,reason:"".concat(l).concat(r.label," logs must have a value in the ").concat(m," field. ")}:{syncable:i,reason:l}}),{syncable:!0,reason:""})}];t.default=s},"98m3":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={components:{iconSpinner:n(r("8jGb")).default},name:"Login",data:function(){return{valuesEntered:!1,authPending:!1,username:"",password:"",farmosUrl:""}},methods:{checkValues:function(){var e=""!==this.username,t=""!==this.username,r=""!==this.password;e&&t&&r&&(this.valuesEntered=!0)},submitCredentials:function(){var e=this,t={farmosUrl:this.farmosUrl,username:this.username,password:this.password,router:this.$router};this.authPending=!0,this.$store.dispatch("didSubmitCredentials",t).then((function(){e.authPending=!1,e.$store.commit("setLoginStatus",!0),e.$store.dispatch("updateUserAndSiteInfo")}))},onDeviceReady:function(){this.loadUserInfo()},loadUserInfo:function(){this.farmosUrl=window.localStorage.getItem("host").replace(/(^\w+:|^)\/\//,""),this.username=window.localStorage.getItem("username"),this.password=window.localStorage.getItem("password"),this.checkValues()}},created:function(){document.addEventListener("deviceready",this.onDeviceReady(),!1),this.loadUserInfo()}};t.default=a},"9TKf":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA"));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("logs",{keyPath:"local_id",autoIncrement:!0}),t()}catch(e){r(e)}}))}},{version:2,onUpgrade:function(e){var t=e.target.result,r=e.target.transaction.objectStore("logs"),n=t.createObjectStore("logs-temp",{keyPath:"localID",autoIncrement:!1});return new Promise((function(e,t){var n=r.getAll();n.onsuccess=function(t){var r=t.target.result.map((function(e){var t=s({},e,{localID:e.local_id,modules:["my-logs"]});return delete t.local_id,t}));e(r)},n.onerror=t})).then((function(e){return Promise.all(e.map((function(e){return new Promise((function(t,r){var a=n.put(e);a.onsuccess=t,a.onerror=r}))})))})).then((function(){t.deleteObjectStore("logs"),n.name="logs"}))}},{version:3,onUpgrade:function(e){var t=function(e,t){return"string"==typeof t&&/^[-+]?(\d+|Infinity)$/.test(t)?+t:t},r=e.target.transaction.objectStore("logs");return new Promise((function(e,n){var a=r.getAll();a.onsuccess=function(r){var n=r.target.result.map((function(e){return function(e){return JSON.parse(JSON.stringify(e),t)}(s({},e,{url:e.remoteUri,notes:{data:{value:e.notes.data,format:"farm_format"},changed:e.notes.changed}}))}));e(n)},a.onerror=n})).then((function(e){return Promise.all(e.map((function(e){return new Promise((function(t,n){var a=r.put(e);a.onsuccess=t,a.onerror=n}))})))}))}}];t.default=i},"9X70":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"login"}},[r("div",{staticClass:"input-group"},[e._m(0),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.farmosUrl,expression:"farmosUrl"}],staticClass:"form-control",attrs:{placeholder:"Enter your farmOS URL",autofocus:"",type:"url",autocomplete:"url"},domProps:{value:e.farmosUrl},on:{input:[function(t){t.target.composing||(e.farmosUrl=t.target.value)},e.checkValues]}})]),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{placeholder:"Enter your username",type:"text",autocomplete:"username"},domProps:{value:e.username},on:{input:[function(t){t.target.composing||(e.username=t.target.value)},e.checkValues]}})]),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Enter your password",type:"password",autocomplete:"current-password"},domProps:{value:e.password},on:{input:[function(t){t.target.composing||(e.password=t.target.value)},e.checkValues]}})]),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"input-group login-submit"},[e.authPending?r("div",[r("icon-spinner")],1):r("button",{staticClass:"btn btn-success btn-navbar",attrs:{disabled:!this.valuesEntered,title:"Submit credentials",type:"button"},on:{click:e.submitCredentials}},[e._v("\n      Submit credentials\n    ")])]),e._v(" "),r("br"),e._v(" "),e._m(1)])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("https://")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Need a server? Check out "),t("a",{attrs:{href:"https://farmos.org/hosting/"}},[this._v("hosting options")]),this._v(".")])}]},APWe:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("menu-bar",{scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("router-link",{attrs:{to:{name:"logs"},tag:"li"}},[r("icon-arrow-back")],1),e._v(" "),r("li",[e._v("Edit Log")])]},proxy:!0},{key:"right-menu",fn:function(){return[e.currentLog.url?r("a",{attrs:{href:e.currentLog.url}},[r("li",[r("icon-open-in-new")],1)]):e._e(),e._v(" "),r("li",{on:{click:function(t){return e.$emit("deleteCurrentLog",+e.id)}}},[r("icon-delete")],1)]},proxy:!0},{key:"more-menu",fn:function(){return[""!==e.currentLog.url?r("a",{attrs:{href:e.currentLog.url}},[r("li",[e._v("Open in browser")])]):e._e(),e._v(" "),r("li",{on:{click:function(t){return e.$emit("deleteCurrentLog")}}},[e._v("\n      Delete from device\n    ")])]},proxy:!0}])})},a=[]},AmVe:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"html",attrs:{id:"app"}},[r("transition",{attrs:{name:"filter"}},[e.showDrawer?r("div",{staticClass:"modal-filter",on:{click:function(t){e.showDrawer=!e.showDrawer}}}):e._e()]),e._v(" "),r("transition",{attrs:{name:"drawer"}},[e.showDrawer?r("div",{staticClass:"drawer container-fluid"},[r("header",{staticClass:"drawer-header row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"arrow-back",on:{click:function(t){e.showDrawer=!e.showDrawer}}},[r("icon-arrow-back")],1),e._v(" "),e.isLoggedIn?r("div",{staticClass:"user-info"},[r("h2",[e._v(e._s(e.farmName))]),e._v(" "),r("p",[e._v(e._s(e.farmUrl))]),e._v(" "),r("p",[e._v(e._s(e.username))])]):r("div",{staticClass:"user-info"},[r("h2",[e._v("Welcome to farmOS")]),e._v(" "),r("p",[e._v("Login for more options.")])])])]),e._v(" "),r("module-menu-items",{attrs:{modules:e.modules},nativeOn:{click:function(t){e.showDrawer=!e.showDrawer}}}),e._v(" "),r("drawer-list",[r("drawer-list-item",{attrs:{clickable:!1}},[r("label",{attrs:{for:"location-switch"}},[e._v("Share My Location ")]),e._v(" "),r("input",{staticClass:"toggle-check",attrs:{id:"location-switch",type:"checkbox"},domProps:{checked:e.useGeolocation},on:{input:function(t){return e.setUseGeolocation(t.target.checked)}}})]),e._v(" "),r("drawer-list-item",{attrs:{clickable:!1}},[e._v("Version: "+e._s(e.version))]),e._v(" "),e.isLoggedIn?e._e():r("router-link",{attrs:{to:"/login"},nativeOn:{click:function(t){e.showDrawer=!e.showDrawer}}},[r("drawer-list-item",[e._v("Login")])],1),e._v(" "),e.isLoggedIn?r("router-link",{attrs:{to:"/logout"},nativeOn:{click:function(t){e.showDrawer=!e.showDrawer}}},[r("drawer-list-item",[e._v("Logout")])],1):e._e()],1)],1):e._e()]),e._v(" "),r("main",[r("section",[e._l(e.errors,(function(t,n){return r("div",{key:"err-"+e.errors.indexOf(t)},[t.show?r("div",{staticClass:"alert alert-warning alert-dismissable"},[r("span",{domProps:{innerHTML:e._s(t.message)}}),e._v(" "),r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.closeError(n)}}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e()])})),e._v(" "),r("div",{staticClass:"region region-content"},[r("div",{staticClass:"block block-system"},[r("router-view",{attrs:{name:"menubar"},on:{toggleDrawer:function(t){e.showDrawer=!e.showDrawer}}}),e._v(" "),r("router-view",{attrs:{useGeolocation:e.useGeolocation,userId:e.userId,systemOfMeasurement:e.systemOfMeasurement,logTypes:e.logTypes,logs:e.removeMetaData(e.logs),areas:e.areas,assets:e.assets,units:e.units,categories:e.categories,equipment:e.equipment},on:{toggleDrawer:function(t){e.showDrawer=!e.showDrawer}}})],1)])],2)])],1)},a=[]},B6UC:function(e,t,r){},Blcz:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("wkee")),o=n(r("8HxT")),s=n(r("HdXD")),i=n(r("GvTb")),l={name:"EditLogsMenuBar",components:{MenuBar:a.default,IconArrowBack:o.default,IconDelete:s.default,IconOpenInNew:i.default},props:["logs","id"],computed:{currentLog:function(){var e=this;return this.logs.find((function(t){return t.localID===+e.id}))||this.logs[0]}}};t.default=l},CN6I:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.openDatabase=function(){return new Promise((function(e,t){var r=indexedDB.open(o.default.name,o.default.version);r.onerror=function(e){return t(e.target.error)},r.onsuccess=function(){return e(r.result)},r.onupgradeneeded=function(e){return o.default.stores.map((function(t){return t.upgrades.reduce((0,s.filterAndSort)(e.oldVersion),[])})).forEach((function(t){return(0,s.runUpgrades)(e)(t)}))}}))},t.getRecords=function(e,t,r){return new Promise((function(n,a){var o=e.transaction(t,"readonly").objectStore(t);if(r){var s=o.openCursor(),i=[];s.onerror=function(e){return a(e)},s.onsuccess=function(e){var t=e.target.result;t?(r(t.value)&&i.push(t.value),t.continue()):n(i)}}else{var l=o.getAll();l.onerror=function(e){return a(e.target.error)},l.onsuccess=function(e){return n(e.target.result)}}}))},t.saveRecord=function(e,t,r){return new Promise((function(n,a){var o=e.transaction(t,"readwrite").objectStore(t).put(r);o.onerror=function(e){return a(new Error(e.target.error))},o.onsuccess=function(e){return n(e.target.result)}}))},t.deleteRecord=function(e,t,r){return new Promise((function(n,a){var o=e.transaction(t,"readwrite").objectStore(t).delete(r);o.onsuccess=function(e){return n(e.target.result)},o.onerror=function(e){return a(e.target.error)}}))},t.clearStore=function(e,t){return new Promise((function(r,n){var a=e.transaction(t,"readwrite").objectStore(t).clear();a.onsuccess=function(e){return r(e.target.result)},a.onerror=function(e){return n(e.target.error)}}))},t.generateLocalID=function(e,t){var r=1;return new Promise((function(n,a){var o=e.transaction(t,"readonly").objectStore(t).openCursor(null,"prev");o.onerror=function(e){return a(new Error(e.target.erorr))},o.onsuccess=function(e){if(!(r>1)){var a,o=e.target.result;o?(o.continue(),a=l[t]>o.value.localID?l[t]+1:o.value.localID+1):a=l[t]+1,l[t]=a,r+=1,n(a)}}}))};var a=n(r("lSNA")),o=n(r("5FK+")),s=r("yI/5");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var l=o.default.stores.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,(0,a.default)({},t.name,0))}),{})},D4tj:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this.$createElement;return(this._self._c||e)("div",{style:[this.defaultStyles,this.overrideStyles],attrs:{id:this.id}})},a=[]},EFEo:function(e,t,r){},ETFt:function(e,t,r){"use strict";r.r(t);var n=r("ihLf"),a=r("84RJ");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("OeIl");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"28374662",null);t.default=i.exports},Ffyi:function(e,t,r){"use strict";r.r(t);var n=r("b0jK"),a=r("duu2");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("NwlJ");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"1ba4cd9e",null);t.default=i.exports},FhkT:function(e,t,r){"use strict";r.r(t);var n=r("2A+E"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},FmYw:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"Logout",methods:{goBack:function(){this.$router.back()},logout:function(){this.$store.dispatch("logout"),this.$store.commit("deleteAllLogs"),this.$store.dispatch("deleteAllCachedLogs"),this.$store.commit("deleteAllAssets"),this.$store.dispatch("deleteAllCachedAssets"),this.$store.commit("deleteAllAreas"),this.$store.dispatch("deleteAllCachedAreas"),this.$store.commit("deleteAllUnits"),this.$store.dispatch("deleteAllCachedUnits"),this.$store.commit("deleteAllCategories"),this.$store.dispatch("deleteAllCachedCategories"),this.$store.dispatch("deleteCachedUserAndSiteInfo"),this.$store.commit("setLoginStatus",!1),this.$router.push({path:"/login"})}}}},Fp97:function(e,t,r){"use strict";r.r(t);var n=r("G4pV"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},G4pV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e<10?"0".concat(e):e},a={name:"DateAndTimeForm",props:["timestamp"],data:function(){return{time:{date:"",hour:"12",minute:"00",am:!0}}},created:function(){this.time.date=this.unixToDateString(this.timestamp);var e=new Date(1e3*this.timestamp),t=e.getHours();this.time.hour=12===t||24===t?12:n(t%12),this.time.minute=n(e.getMinutes()),this.time.am=t<12},methods:{unixToDateString:function(e){var t=new Date(1e3*e),r=n(t.getMonth()+1),a=n(t.getDate());return"".concat(t.getFullYear(),"-").concat(r,"-").concat(a)},dateAndTimeToUnix:function(e,t,r,n){var a,o=+e.split("-")[0],s=+e.split("-")[1]-1,i=+e.split("-")[2];return a=n&&12==+t?0:n||12==+t?+t:+t+12,o>1970?Math.floor(new Date(o,s,i,a,r).getTime()/1e3).toString():this.timestamp.toString()},updateDate:function(e){if(e){var t=this.dateAndTimeToUnix(e,this.time.hour,this.time.minute,this.time.am);this.$emit("input",t)}},updateHour:function(e){var t=this.dateAndTimeToUnix(this.time.date,e,this.time.minute,this.time.am);this.$emit("input",t)},updateMinute:function(e){var t=this.dateAndTimeToUnix(this.time.date,this.time.hour,e,this.time.am);this.$emit("input",t)},updateAmPm:function(e){var t=this.dateAndTimeToUnix(this.time.date,this.time.hour,this.time.minute,e);this.$emit("input",t)}},watch:{timestamp:function(e){this.time.date=this.unixToDateString(e);var t=new Date(1e3*e),r=t.getHours();this.time.hour=12===r||24===r?12:n(r%12),this.time.minute=n(t.getMinutes()),this.time.am=r<12}}};t.default=a},Gn6g:function(e,t,r){},Gq5i:function(e,t,r){"use strict";var n=r("B6UC");r.n(n).a},GuV8:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("menu-bar",{attrs:{more:!1},scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("router-link",{attrs:{to:e.logLink,tag:"li"}},[r("icon-arrow-back")],1),e._v(" "),r("li",[e._v("Map")])]},proxy:!0}])})},a=[]},GvTb:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}})])}),[],!1,null,null,null);t.default=a.exports},HQ1J:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])}),[],!1,null,null,null);t.default=a.exports},HdXD:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])}),[],!1,null,null,null);t.default=a.exports},InZg:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("areas",{keyPath:"tid"}),t()}catch(e){r(e)}}))}}];t.default=n},J7Jb:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("cDf5")),o=n(r("vzJi")),s=function(){var e=localStorage.getItem("host"),t=localStorage.getItem("username"),r=localStorage.getItem("password");return(0,o.default)(e,t,r)},i={actions:{didSubmitCredentials:function(e,t){var r=e.commit,n="https://".concat(t.farmosUrl),a=t.username,s=t.password,i=t.router,l=window.localStorage;return new Promise((function(e){(0,o.default)(n,a,s).authenticate().then((function(t){if(l.setItem("host",n),l.setItem("username",a),l.setItem("password",s),l.setItem("token",t),window.history.length>1)return window.history.back(),void e();i.push("/"),e()})).catch((function(){var u="http://".concat(t.farmosUrl);(0,o.default)(u,a,s).authenticate().then((function(t){if(l.setItem("host",u),l.setItem("username",a),l.setItem("password",s),l.setItem("token",t),window.history.length>1)return window.history.back(),void e();i.push("/"),e()})).catch((function(t){!function(e){if(403===e.status){var t="".concat(n,"/user/password"),a={message:'The username or password you entered was incorrect. Please try again, or <a href="'.concat(t,'">reset your password</a>.'),errorCode:e.statusText,level:"warning",show:!0};r("logError",a)}else{var o={message:"Unable to reach the server. Please check that you have the correct URL and that your device has a network connection. Status: ".concat(e.message),errorCode:e.statusText,level:"warning",show:!0};r("logError",o)}}(t),e()}))}))}))},logout:function(){s().logout().then((function(){}))},updateUserAndSiteInfo:function(e){var t=e.commit;localStorage.getItem("username")&&s().info().then((function(e){var r,n,o,s,i=function(e,r,n){var o;"string"==typeof n&&(o=n),"object"!==(0,a.default)(n)&&"number"!=typeof n&&"boolean"!=typeof n||(o=JSON.stringify(n)),null===n&&(o=void 0),o&&(localStorage.setItem(e,o),t(r,n))};i("farmName","changeFarmName",e.name),i("username","changeUsername",null===(r=e.user)||void 0===r?void 0:r.name),i("email","changeEmail",null===(n=e.user)||void 0===n?void 0:n.mail),i("uid","changeUid",null===(o=e.user)||void 0===o?void 0:o.uid),i("mapboxAPIKey","changeMapboxAPIKey",e.mapbox_api_key),i("systemOfMeasurement","changeSystemOfMeasurement",e.system_of_measurement),i("logTypes","changeLogTypes",null===(s=e.resources)||void 0===s?void 0:s.log),i("isLoggedIn","setLoginStatus",!0),e.url&&t("changeFarmUrl",e.url)}))},loadCachedUserAndSiteInfo:function(e){var t=e.commit,r=function(e,r){var n;try{n=JSON.parse(localStorage.getItem(r))}catch(e){n=localStorage.getItem(r)}n&&t(e,n)};r("changeUsername","username"),r("changeEmail","email"),r("changeUid","uid"),r("changeMapboxAPIKey","mapboxAPIKey"),r("changeSystemOfMeasurement","systemOfMeasurement"),r("setLoginStatus","isLoggedIn"),r("changeFarmName","farmName"),r("changeFarmUrl","host"),r("changeLogTypes","logTypes"),r("setUseGeolocation","useGeolocation")},deleteCachedUserAndSiteInfo:function(e){var t=e.commit;t("changeFarmName",""),t("changeFarmUrl",""),t("changeUsername",""),t("changeEmail",""),t("changeUid",""),t("changeMapboxAPIKey",""),t("changeSystemOfMeasurement","metric"),t("setLoginStatus",!1),localStorage.clear()}}};t.default=i},J8r6:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("oCYn")),o=n(r("L2JU")),s=n(r("sXfw")),i=n(r("L61C")),l=n(r("sdek")),u=n(r("z+16")),c=n(r("Rrcy")),d=n(r("J7Jb")),f=n(r("i1sA"));a.default.use(o.default);var m=new o.default.Store({modules:{shell:s.default,farm:i.default,idb:l.default,http:c.default,auth:d.default,cam:f.default}}),p=(0,u.default)(m);m.subscribe(p);var v=m;t.default=v},JlXC:function(e,t,r){"use strict";var n=r("MPDz");r.n(n).a},L61C:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("J4zp")),s=n(r("8hbF"));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e,t){return function(r,n){if(Array.isArray(n))r[e]=function(e,t,r){var n,a=r.reduce((function(r,n){var a=(0,o.default)(r,2),s=a[0],i=a[1];return e.some((function(e){return n[t]===e[t]}))?[s,i.concat(n)]:[s.concat(n),i]}),[[],[]]),s=(0,o.default)(a,2),i=s[0],l=s[1];return e.reduce((n=l,function(e,r){var a=n.find((function(e){return r[t]===e[t]}));return void 0===a?e.concat(r):e.concat(a)}),[]).concat(i)}(r[e],t,n);else if(r[e].some((function(e){return e[t]===n[t]}))){var a=r[e].findIndex((function(e){return e[t]===n[t]}));r[e].splice(a,1,n)}else r[e]=r[e].concat(n)}},c={state:{logs:[],assets:[],areas:[],units:[],categories:[]},getters:{equipment:function(e){return e.assets.filter((function(e){return"equipment"===e.type}))}},mutations:{addLogs:u("logs","localID"),addAssets:u("assets","id"),addAreas:u("areas","tid"),addUnits:u("units","tid"),addCategories:u("categories","tid"),updateAllLogs:function(e,t){e.logs=e.logs.map((function(e){return t(e)}))},deleteLog:function(e,t){var r=e.logs.findIndex((function(e){return e.localID===t}));e.logs.splice(r,1)},deleteAllLogs:function(e){e.logs=[]},deleteAllAssets:function(e){e.assets=[]},deleteAllAreas:function(e){e.areas=[]},deleteAllUnits:function(e){e.units=[]},deleteAllCategories:function(e){e.categories=[]},filterLogs:function(e,t){var r=e.logs.filter(t);e.logs=r}},actions:{initializeLog:function(e){var t=e.commit,r=e.dispatch,n=e.rootState,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,s.default)(n.shell.logTypes),i=o.createLog,u=o.updateLog,c=a.modules||[n.shell.currentModule];return new Promise((function(e,n){r("generateLogID").then((function(r){var n=a.id?u(a,{localID:r}):i(l({},a,{localID:r,modules:c}));t("addLogs",n),e(r)})).catch(n)}))},updateLog:function(e,t){var r=e.commit,n=e.rootState,a=(0,s.default)(n.shell.logTypes).updateLog,o=n.farm.logs.find((function(e){return t.localID===e.localID}));if(void 0===o)throw new Error("The updateLog action requires a localID among the props supplied as the payload. If the log does not have a localID yet, use the initializeLog action instead.");r("addLogs",a(o,l({isCachedLocally:!1,wasPushedToServer:!1},t)))}}};t.default=c},LauP:function(e,t,r){"use strict";r.r(t);var n=r("Pg46"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},M6Kt:function(e,t,r){"use strict";var n=r("Gn6g");r.n(n).a},MPDz:function(e,t,r){},NVlx:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("dHxB")),o=n(r("x2qs")),s=n(r("qWsX")),i=n(r("ETFt")),l=n(r("hKAu")),u=n(r("iUy7")),c=n(r("RtUe")),d=n(r("0VQf")),f=n(r("jqhR")),m=[{path:"/logs",component:a.default,children:[{path:"",name:"logs",components:{default:o.default,menubar:s.default}},{path:":id",name:"edit-log",components:{default:i.default,menubar:l.default},props:{default:!0,menubar:!0}},{path:":id/map",name:"edit-map",components:{default:u.default,menubar:c.default},props:{default:!0,menubar:!0}},{path:"filter",name:"filter-logs",components:{default:d.default,menubar:f.default}}]}];t.default=m},NwlJ:function(e,t,r){"use strict";var n=r("gueZ");r.n(n).a},NzpZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"FilterLogs",props:["categories","logDisplayFilters"],methods:{updateExcludedLogType:function(e,t){t?this.$emit("removeFromExcludedTypes",e):this.$emit("addToExcludedTypes",e)},updateExcludedLogCategory:function(e,t){t?this.$emit("removeFromExcludedCategories",e):this.$emit("addToExcludedCategories",e)},setDateFilter:function(e){this.$emit("setDateFilter",e)},checkChecked:function(e){return!document.getElementById(e).checked}}};t.default=n},OKhj:function(e,t,r){"use strict";(function(e){var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("RIqP")),o=n(r("lSNA")),s=n(r("uwuV")),i=n(r("zBQ/")),l=n(r("ssaN")),u=n(r("8jGb")),c=n(r("oL7M")),d=n(r("eUst")),f=n(r("X4Sr")),m=n(r("4gjd")),p=r("+t6u"),v=n(r("+r5b"));function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var h={name:"EditLog",components:{Autocomplete:s.default,IconExpandLess:i.default,IconExpandMore:l.default,IconSpinner:u.default,Map:c.default,ToggleCheck:d.default,SelectBox:f.default,DateAndTimeForm:m.default},data:function(){return{tabSelected:"FIRST",useLocalAreas:!1,isWorking:!1,localAreas:[],showAllCategories:!1,currentQuant:-1,quantMeasures:["count","length","weight","area","volume","time","temperature","water_content","value","rating","ratio","probability"]}},props:["id","logs","logTypes","areas","assets","useGeolocation","units","categories","equipment"],beforeMount:function(){this.$router.currentRoute.params.tab&&(this.tabSelected=this.$router.currentRoute.params.tab)},methods:{forceSync:function(){if(null!==localStorage.getItem("host"))return this.$store.dispatch("updateAssets"),void this.$store.dispatch("updateAreas");this.$router.push("/login")},updateCurrentLog:function(e,t){var r,n=(r={},(0,o.default)(r,e,t),(0,o.default)(r,"localID",+this.id),r);this.$store.dispatch("updateLog",n)},updateNotes:function(e){this.updateCurrentLog("notes",{value:e,format:"farm_format"})},updateQuantity:function(e,t,r){var n,s,i=this.currentLog.quantity||[],l="unit"===e?{id:t,resource:"taxonomy_term"}:t;r>=0?(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i[r],(0,o.default)({},e,l)),s=[].concat((0,a.default)(i.slice(0,r)),[n],(0,a.default)(i.slice(r+1)))):(n={measure:null,value:null,unit:null,label:null},s=[].concat((0,a.default)(i),[n])),this.updateCurrentLog("quantity",s),r<0&&(this.currentQuant=s.length-1)},addCategory:function(e){var t={id:e,resource:"taxonomy_term"},r=this.currentLog.log_category,n=r?r.concat(t):[t];this.updateCurrentLog("log_category",n)},addEquipment:function(e){if(""!==e){var t={id:e,resource:"farm_asset"},r=this.currentLog.equipment,n=r?r.concat(t):[t];this.updateCurrentLog("equipment",n)}},addAsset:function(e){var t={id:e,resource:"farm_asset"},r=this.currentLog.asset.concat(t);this.updateCurrentLog("asset",r)},addMovementArea:function(e){var t={id:e,resource:"taxonomy_term"},r=this.areas.find((function(t){return t.tid===e})).geofield[0]?this.areas.find((function(t){return t.tid===e})).geofield[0].geom:null,n=this.currentLog.movement,a=n?(0,p.mergeGeometries)([r,n.geometry]):r,o={area:n?n.area.concat(t):[t],geometry:a};this.updateCurrentLog("movement",o)},addArea:function(e){if(""!==e){var t={id:e,resource:"taxonomy_term"},r=this.currentLog.area.concat(t);this.updateCurrentLog("area",r)}},removeAsset:function(e){var t=this.currentLog.asset.filter((function(t){return t.id!==e.id}));this.updateCurrentLog("asset",t)},removeArea:function(e){var t,r,n=this.currentLog.area.filter((function(t){return t.id!==e.tid}));this.updateCurrentLog("area",n);var a=null===(t=this.areas.find((function(t){return t.tid===e.tid})))||void 0===t?void 0:t.geofield,o=null===(r=this.currentLog.geofield)||void 0===r?void 0:r.filter((function(e){return!a.some((function(t){return e.geom===t.geom}))}));this.updateCurrentLog("geofield",o)},removeMovementArea:function(e){var t=this.currentLog.movement.area.filter((function(t){return t.id!==e.tid})),r=this.currentLog.movement.geometry,n=null;e.geofield[0]&&(n=e.geofield[0].geom);var a={geometry:(0,p.removeGeometry)(r,n),area:t};this.updateCurrentLog("movement",a)},removeQuant:function(e){this.currentQuant>=e&&(this.currentQuant=this.currentQuant-1);var t=[].concat((0,a.default)(this.currentLog.quantity.slice(0,e)),(0,a.default)(this.currentLog.quantity.slice(e+1)));this.updateCurrentLog("quantity",t)},removeCategory:function(e){var t=this.currentLog.log_category;t.splice(e,1),this.updateCurrentLog("category",t)},removeEquipment:function(e){var t=this.currentLog.equipment;t.splice(e,1),this.updateCurrentLog("equipment",t)},getPhoto:function(){return this.$store.dispatch("getPhotoFromCamera",this.currentLog)},loadPhoto:function(e){for(var t=0;t<e.length;t+=1)this.$store.dispatch("loadPhotoBlob",{file:e[t],log:this.currentLog})},addLocation:function(){var e,t=this;this.isWorking=!0;var r=navigator.geolocation.watchPosition(function(t){var r="POINT (".concat(t.coords.longitude," ").concat(t.coords.latitude,")"),n=this.currentLog.geofield;e=n?n.concat({geom:r}):[{geom:r}]}.bind(this),function(e){var t={message:e.message,level:"warning",show:!1};this.$store.commit("logError",t),this.isWorking=!1}.bind(this),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});setTimeout((function(){navigator.geolocation.clearWatch(r),t.updateCurrentLog("geofield",e),t.isWorking=!1}),5e3)},removeLocation:function(e){var t=this.currentLog.geofield,r=[].concat((0,a.default)(t.slice(0,e)),(0,a.default)(t.slice(e+1)));this.updateCurrentLog("geofield",r)},getAttached:function(e,t,r){var n=[];return t.forEach((function(t){e.forEach((function(e){t[r]===e.id&&n.push(t)}))})),n},assetsRequired:function(){return"farm_seeding"===this.currentLog.type&&this.selectedAssets<1},parseNotes:v.default},computed:{currentLog:function(){var e=this;return this.logs.find((function(t){return t.localID===+e.id}))||this.logs[0]},filteredAssets:function(){if(this.currentLog.asset){var e=this.currentLog.asset;return this.assets.filter((function(t){return!e.some((function(e){return t.id===e.id}))}))}return this.assets},filteredAreas:function(){if(this.currentLog.area){var e=this.currentLog.area;return this.areas.filter((function(t){return!e.some((function(e){return t.tid===e.id}))}))}return this.areas},filteredMovementAreas:function(){var e=this.currentLog.movement;if(e&&e&&e.area){var t=this.currentLog.movement.area;return this.areas.filter((function(e){return!t.some((function(t){return e.tid===t.id}))}))}return this.areas},filteredCategories:function(){var e=this.currentLog.log_category,t=!e||0===e.length;return this.showAllCategories||t?this.showAllCategories?this.categories:[]:this.categories.filter((function(t){return e.some((function(e){return t.tid===e.id}))}))},filteredGeofields:function(){var e=this.currentLog.geofield;return this.currentLog.geofield?e.filter((function(e){var t;return null===(t=e.geom)||void 0===t?void 0:t.includes("POINT")})):[]},selectedAssets:function(){return this.currentLog.asset?this.getAttached(this.currentLog.asset,this.assets,"id"):[]},selectedAreas:function(){return this.currentLog.area?this.getAttached(this.currentLog.area,this.areas,"tid"):[]},selectedMovementAreas:function(){var e=this.currentLog.movement;return e&&e.area?this.getAttached(this.currentLog.movement.area,this.areas,"tid"):[]},quantUnitNames:function(){var e,t=this;if(this.units.length>0&&(null===(e=this.currentLog)||void 0===e?void 0:e.quantity.length)>0){var r=[];return this.currentLog.quantity.forEach((function(e){e.unit?t.units.forEach((function(t){parseInt(t.tid,10)===parseInt(e.unit.id,10)&&r.push(t.name)})):r.push(null)})),r}return[]},categoryNames:function(){var e=this;if(this.categories.length>0&&this.currentLog.log_category.length>0){var t=[];return this.currentLog.log_category.forEach((function(r){e.categories.forEach((function(e){parseInt(e.tid,10)===parseInt(r.id,10)&&t.push(e.name)}))})),t}return[]},equipmentNames:function(){var e=this;if(this.equipment.length>0&&this.currentLog.equipment&&this.currentLog.equipment.length>0){var t=[];return this.currentLog.equipment.forEach((function(r){e.equipment.forEach((function(e){parseInt(e.id,10)===parseInt(r.id,10)&&t.push(e.name)}))})),t}return[]},areaGeoJSON:function(){return"".concat(localStorage.getItem("host"),"/farm/areas/geojson/all")},isNative:function(){return"native"===e.env.PLATFORM||"dev"===e.env.PLATFORM},imageUrls:function(){return this.currentLog.images.filter((function(e){return"string"==typeof e}))},mapLayers:function(){var e,t,r,n=this,a={title:"movement",wkt:null===(e=this.currentLog.movement)||void 0===e?void 0:e.geometry,color:"orange",visible:!0,weight:0,canEdit:!!(null===(t=this.currentLog.movement)||void 0===t?void 0:t.geometry)},o=null===(r=this.currentLog.asset)||void 0===r?void 0:r.map((function(e){var t,r;return null===(t=n.assets)||void 0===t||null===(r=t.find((function(t){return t.id===e.id})))||void 0===r?void 0:r.geometry}));return[{title:"previous",wkt:o?(0,p.mergeGeometries)(o):void 0,color:"green",visible:!0,weight:1,canEdit:!1},a]}},watch:{useLocalAreas:function(){if(this.useLocalAreas){var e=navigator.geolocation.watchPosition(function(e){this.localAreas=this.filteredAreas.filter((function(t){return!!t.geofield[0]&&(0,p.isNearby)([e.coords.longitude,e.coords.latitude],t.geofield[0].geom,e.coords.accuracy)}))}.bind(this),function(e){var t={message:e.message,level:"warning",show:!1};this.$store.commit("logError",t)}.bind(this),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});setTimeout((function(){navigator.geolocation.clearWatch(e)}),5e3)}}}};t.default=h}).call(this,r("8oxB"))},ONIP:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("oL7M")),o=r("+t6u"),s={name:"EditMap",components:{Map:a.default},props:["logs","assets","id","systemOfMeasurement"],computed:{areaGeoJSON:function(){return"".concat(localStorage.getItem("host"),"/farm/areas/geojson/all")},currentLog:function(){var e=this;return this.logs.find((function(t){return t.localID===+e.id}))||this.logs[0]},mapLayers:function(){var e,t,r=this,n={title:"movement",wkt:null===(e=this.currentLog.movement)||void 0===e?void 0:e.geometry,color:"orange",visible:!0,weight:0,canEdit:!0},a=null===(t=this.currentLog.asset)||void 0===t?void 0:t.map((function(e){var t,n;return null===(t=r.assets)||void 0===t||null===(n=t.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.geometry}));return[{title:"previous",wkt:(0,o.mergeGeometries)(a),color:"green",visible:!0,weight:1,canEdit:!1},n]}},methods:{updateMovement:function(e){var t,r={movement:{area:null===(t=this.currentLog.movement)||void 0===t?void 0:t.area,geometry:e},localID:+this.id};this.$store.dispatch("updateLog",r)}}};t.default=s},OTyp:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}})])}),[],!1,null,null,null);t.default=a.exports},OeIl:function(e,t,r){"use strict";var n=r("QIPI");r.n(n).a},OuTb:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"navbar navbar-light fixed-top"},[r("ul",{staticClass:"left-menu"},[e._t("left-menu")],2),e._v(" "),r("ul",{staticClass:"right-menu"},[e._t("right-menu"),e._v(" "),e.more?r("li",{attrs:{id:"more-trigger"},on:{click:e.openMoreMenu}},[r("icon-more-vert")],1):e._e()],2),e._v(" "),e.showMore?r("ul",{attrs:{id:"more-menu"}},[e._t("more-menu")],2):e._e()])},a=[]},Pg46:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"Autocomplete",props:["objects","searchKey","searchId","label"],data:function(){return{search:"",searchResults:[],counter:0,isOpen:!1}},methods:{openResults:function(){this.isOpen=!0},doSearch:function(e){var t=[];if(""!==e)for(var r=e.toLowerCase(),n=0;n<this.objects.length;n+=1){var a=this.objects[n];a.name.toLowerCase().includes(r)&&t.length<10&&t.push(a)}this.searchResults=t,this.search=e},selectSearchResult:function(e){""!==e&&(this.$emit("results",e),this.search="",this.doSearch(this.search))},onArrowDown:function(){this.counter<this.searchResults.length-1&&(this.counter=this.counter+1)},onArrowUp:function(e){e.preventDefault(),this.counter>0&&(this.counter=this.counter-1)},onEnter:function(){var e=this.searchResults[this.counter][this.searchId];this.selectSearchResult(e)},handleClickOutside:function(e){this.$el.contains(e.target)||(this.isOpen=!1,this.arrowCounter=-1)}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}};t.default=n},Pi16:function(e,t,r){"use strict";var n=r("zuT/");r.n(n).a},PoNo:function(e,t,r){"use strict";r.r(t);var n=r("NzpZ"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},QIPI:function(e,t,r){},QNn5:function(e,t,r){"use strict";r.r(t);var n=r("gjnb"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},QYYL:function(e,t,r){"use strict";r.r(t);var n=r("o83v"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},Qsy8:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("wd/R")),o=n(r("+r5b")),s=n(r("7sLs")),i=n(r("tGHH")),l=n(r("XRp1")),u=n(r("+klp")),c=n(r("tuT/")),d=n(r("OTyp")),f=n(r("HdXD")),m=n(r("Tk+X")),p=n(r("nav2")),v={name:"AllLogs",props:["logTypes","logs","userId","assets","logDisplayFilters","areas"],components:{IconAddCircle:s.default,IconAssignment:i.default,IconAssignmentDone:l.default,IconAssignmentLate:u.default,IconCloudDone:c.default,IconCloudUpload:d.default,IconDelete:f.default,IconEdit:m.default,IconSync:p.default},methods:{showDate:function(e){return Number.isNaN(Number(e))?"No Date Provided":a.default.unix(e).format("MMM DD YYYY")},mapTidsToAreas:function(e){var t=this;return e.area&&this.areas.length>0?e.area.map((function(e){return t.areas.find((function(t){return+t.tid==+e.id}))})):[]},mapIdsToAssets:function(e){var t=this;return e.asset&&this.assets.length>0?e.asset.map((function(e){return t.assets.find((function(t){return+t.id==+e.id}))})):[]},passesFilters:function(e){var t,r,n=this;return!(this.logDisplayFilters.excludedTypes.includes(e.type)||(t=null===e.log_category||0===e.log_category.length,r=n.logDisplayFilters.excludedCategories.includes(-1),t&&r||null!==e.log_category&&e.log_category.some((function(e){return n.logDisplayFilters.excludedCategories.some((function(t){return+t==+e.id}))})))||!function(){if(Number.isNaN(Number(e.timestamp)))return!0;var t,r=n.logDisplayFilters.date,a=new Date;return"TODAY"===r&&(a.setDate(a.getDate()-1),t=Math.floor(a.valueOf()/1e3)),"THIS_WEEK"===r&&(a.setDate(a.getDate()-7),t=Math.floor(a.valueOf()/1e3)),"THIS_MONTH"===r&&(a.setMonth(a.getMonth()-1),t=Math.floor(a.valueOf()/1e3)),"THIS_YEAR"===r&&(a.setYear(a.getYear()-1),t=Math.floor(a.valueOf()/1e3)),"ALL_TIME"===r&&(t=0),e.timestamp>t}())},startNewLog:function(){var e=this;this.$store.dispatch("initializeLog",{done:!0}).then((function(t){return e.$router.push({path:"/logs/".concat(t)})}))},parseNotes:o.default}};t.default=v},R9Xw:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-item form-group col",attrs:{id:"date-form"}},[r("label",{staticClass:"control-label",attrs:{for:"date"}},[e._v("Date")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{id:"date",type:"date",required:""},domProps:{value:e.time.date},on:{input:function(t){return e.updateDate(t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-item form-group col",attrs:{id:"hour-form"}},[r("label",{staticClass:"control-label",attrs:{for:"hour"}},[e._v("Hour")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{id:"hour",type:"number",min:"1",max:"12"},domProps:{value:e.time.hour},on:{input:function(t){return e.updateHour(t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-item form-group col",attrs:{id:"minute-form"}},[r("label",{staticClass:"control-label",attrs:{for:"minute"}},[e._v("Min")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{id:"minute",type:"number",min:"00",max:"59"},domProps:{value:e.time.minute},on:{input:function(t){return e.updateMinute(t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-item form-group col",attrs:{id:"am-pm-form"}},[r("label",{staticClass:"control-label",attrs:{for:"am-pm"}}),e._v(" "),r("div",{staticClass:"form-item form-group",attrs:{id:"am-pm"}},[r("div",{staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:"is-am",name:"am-pm",type:"radio",value:"am"},domProps:{checked:e.time.am},on:{input:function(t){return e.updateAmPm(t.target.checked)}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"is-am"}},[e._v("AM")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:"is-pm",name:"am-pm",type:"radio",value:"pm"},domProps:{checked:!e.time.am},on:{input:function(t){return e.updateAmPm(!t.target.checked)}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"is-pm"}},[e._v("PM")])])])])])},a=[]},RmFW:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("equipment",{keyPath:"id"}),t()}catch(e){r(e)}}))}},{version:4,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.deleteObjectStore("equipment"),t()}catch(e){r(e)}}))}}];t.default=n},RnhZ:function(e,t,r){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id="RnhZ"},Rrcy:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("J4zp")),o=n(r("lSNA")),s=n(r("vzJi")),i=n(r("mEwK")),l=n(r("8jTM")),u=n(r("8hbF")),c=r("fC+r");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(){var e=localStorage.getItem("host"),t=localStorage.getItem("username"),r=localStorage.getItem("password");return(0,s.default)(e,t,r)},p={getters:{logFilters:function(e,t,r){return r.shell.modules.filter((function(e){return e.name===r.shell.currentModule})).reduce((function(e,t){return t.filters&&t.filters.log?"ALL"===t.filters.log?{log_owner:n,type:a,done:o}:(n="SELF"===t.filters.log.log_owner&&r.shell.user.uid?r.shell.user.uid:"number"==typeof t.filters.log.log_owner?t.filters.log.log_owner:void 0,a=t.filters&&t.filters.log&&Array.isArray(t.filters.log.type)?t.filters.log.type:void 0,{log_owner:n,done:o=0===t.filters.log.done||!1===t.filters.log.done?0:1===t.filters.log.done||!0===t.filters.log.done?1:void 0,type:a}):null;var n,a,o}),{})}},actions:{updateAreas:function(e){var t=e.commit;return m().area.get().then((function(e){t("deleteAllAreas");var r=e.list.map((function(e){return{tid:e.tid,name:e.name,geofield:e.geofield}}));t("addAreas",r)}))},updateAssets:function(e){var t=e.commit;return m().asset.get().then((function(e){t("deleteAllAssets"),t("addAssets",e.list)}))},updateUnits:function(e){var t=e.commit;return m().term.get("farm_quantity_units").then((function(e){t("deleteAllUnits");var r=e.list.map((function(e){return{tid:e.tid,name:e.name}}));t("addUnits",r)}))},updateCategories:function(e){var t=e.commit;return m().term.get("farm_log_categories").then((function(e){t("deleteAllCategories");var r=e.list.map((function(e){return{tid:e.tid,name:e.name}}));t("addCategories",r)}))},sendLogs:function(e,t){var r=e.commit,n=e.rootState,a=(0,u.default)(n.shell.logTypes),o=a.updateLog,s=a.formatLogForServer;return i.default.allSettled(t.map((function(e){var t=s(n.farm.logs[e]);return m().log.send(t,localStorage.getItem("token"))}))).then((function(e){var a=e.reduce((function(e,a,s){return"rejected"===a.status?e.concat({index:t[s],status:parseInt(a.reason.message.substr(-3),10),message:a.reason.response.data}):("fulfilled"===a.status&&(i=a.value,l=t[s],u={id:i.id,url:i.uri,wasPushedToServer:!0,isReadyToSync:!1,isCachedLocally:!1},c=o(n.farm.logs[l],u),r("addLogs",c)),e);var i,l,u,c}),[]);if(a.length>0)throw new c.SyncError({responses:a})}))},getServerLogs:function(e){var t=e.commit,r=e.getters,n=e.dispatch,a=e.rootState,o=JSON.parse(localStorage.getItem("syncDate")),s=(0,u.default)(a.shell.logTypes,o).mergeLogFromServer;return m().log.get(r.logFilters).then((function(e){return e.list.filter((function(e){return e.changed>o})).forEach((function(e){var r=a.farm.logs.find((function(t){return+t.id==+e.id}));if(void 0!==r){var o=Array.from(new Set(r.modules.concat(a.shell.currentModule))),i=s(e,r,{modules:o,isCachedLocally:!1});t("addLogs",i)}else{var l=[a.shell.currentModule],u=s(e,void 0,{modules:l});n("initializeLog",u)}})),e.list.map((function(e){return+e.id}))})).then((function(e){var t=a.farm.logs.filter((function(t){return t.id&&!e.some((function(e){return+t.id==+e}))})).map((function(e){return e.id}));return m().log.get(t)})).then((function(e){e.list.filter((function(e){return e.changed>o})).forEach((function(e){var r=a.farm.logs.find((function(t){return+t.id==+e.id})),n=s(e,r);t("addLogs",n)}))})).catch((function(e){throw e.response?new c.SyncError({responses:[{status:e.response.status,message:e.response.statusText}]}):new c.SyncError({responses:[{message:e}]})}))},syncAllLogs:function(e){var t=e.rootState,r=e.commit,n=e.dispatch,o=(0,u.default)(t.shell.logTypes).updateLog;localStorage.getItem("token")?(r("updateAllLogs",(function(e){return f({},e,{isReadyToSync:!0})})),n("getServerLogs").then((function(){localStorage.setItem("syncDate",(Date.now()/1e3).toFixed(0));var e=(0,c.createSyncReducer)({logTypes:t.shell.logTypes}),s=t.farm.logs.reduce(e,[[],[],[]]),i=(0,a.default)(s,3),l=i[0],u=i[1],d=i[2];return u.forEach((function(e){var n=e.message,a=e.index;n&&r("logError",{message:n,level:"warning",show:!0});var s=o(t.farm.logs[a],{isReadyToSync:!1});r("addLogs",s)})),d.forEach((function(e){var n=e.index,a=e.props,s=o(t.farm.logs[n],a);r("addLogs",s)})),n("sendLogs",l)})).catch((function(e){r("updateAllLogs",(function(e){return f({},e,{isReadyToSync:!1})}));var n="";e.responses.forEach((function(e){if(401===e.status||403===e.status)l.default.push("/login");else if(void 0===e.status)n+=e.message;else if(void 0===e.index)n+="".concat(e.status," error: ").concat(e.message);else if(404!==e.status){var r=t.farm.logs[e.index].name.data;n+='Error while syncing "'.concat(r,'": ').concat(e.message," <br>")}})),""!==n&&r("logError",{message:n,errorCode:"",level:"warning",show:!0})})).finally((function(){r("updateAllLogs",(function(e){return f({},e,{isReadyToSync:!1})}))}))):l.default.push("/login")}}};t.default=p},RtUe:function(e,t,r){"use strict";r.r(t);var n=r("GuV8"),a=r("tElN");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,null,null);t.default=i.exports},SJym:function(e,t,r){"use strict";r.r(t);var n=r("WXfM"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},SLuX:function(e,t,r){"use strict";r.r(t);var n=r("FmYw"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},Sseh:function(e,t,r){"use strict";r.r(t);var n=r("rYdS"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},TbpJ:function(e,t,r){},"Tk+X":function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])}),[],!1,null,null,null);t.default=a.exports},UZkn:function(e,t,r){"use strict";var n=r("EFEo");r.n(n).a},UiWD:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid"},[r("br"),e._v(" "),r("h4",[e._v("Date")]),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"TODAY",checked:"TODAY"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"TODAY"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("TODAY")}}},[e._v("\n        Today\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"THIS_WEEK",checked:"THIS_WEEK"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"THIS_WEEK"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("THIS_WEEK")}}},[e._v("\n        This Week\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"THIS_MONTH",checked:"THIS_MONTH"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"THIS_MONTH"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("THIS_MONTH")}}},[e._v("\n        This Month\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"THIS_YEAR",checked:"THIS_YEAR"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"THIS_YEAR"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("THIS_YEAR")}}},[e._v("\n        This Year\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"radio",name:"date"},domProps:{value:"ALL_TIME",checked:"ALL_TIME"===e.logDisplayFilters.date},on:{input:function(t){return e.setDateFilter(t.target.value)}}}),e._v(" "),r("label",{class:{selected:"ALL_TIME"===e.logDisplayFilters.date},attrs:{for:"date"},on:{click:function(t){return e.setDateFilter("ALL_TIME")}}},[e._v("\n        All Time\n      ")])])]),e._v(" "),r("h4",[e._v("Log Type")]),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-activity",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_activity")},on:{input:function(t){return e.updateExcludedLogType("farm_activity",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_activity")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_activity",e.checkChecked("type-farm-activity"))}}},[e._v("\n        Activity\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-harvest",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_harvest")},on:{input:function(t){return e.updateExcludedLogType("farm_harvest",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_harvest")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_harvest",e.checkChecked("type-farm-harvest"))}}},[e._v("\n        Harvest\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-input",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_input")},on:{input:function(t){return e.updateExcludedLogType("farm_input",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_input")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_input",e.checkChecked("type-farm-input"))}}},[e._v("\n        Input\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-observation",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_observation")},on:{input:function(t){return e.updateExcludedLogType("farm_observation",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_observation")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_observation",e.checkChecked("type-farm-observation"))}}},[e._v("\n        Observation\n      ")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"type-farm-seeding",name:"log-types"},domProps:{checked:!e.logDisplayFilters.excludedTypes.includes("farm_seeding")},on:{input:function(t){return e.updateExcludedLogType("farm_seeding",t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedTypes.includes("farm_seeding")},attrs:{for:"log-types"},on:{click:function(t){e.updateExcludedLogType("farm_seeding",e.checkChecked("type-farm-seeding"))}}},[e._v("\n        Seeding\n      ")])])]),e._v(" "),r("h4",[e._v("Log Category")]),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"category-none",name:"log-categories"},domProps:{checked:!e.logDisplayFilters.excludedCategories.includes(-1)},on:{input:function(t){return e.updateExcludedLogCategory(-1,t.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedCategories.includes(-1)},attrs:{for:"log-categories"},on:{click:function(t){e.updateExcludedLogCategory(-1,e.checkChecked("category-none"))}}},[e._v("\n        No Category\n      ")])]),e._v(" "),e._l(e.categories,(function(t){return r("div",{staticClass:"form-check"},[r("input",{attrs:{type:"checkbox",id:"category-"+t.tid,name:"log-categories"},domProps:{checked:!e.logDisplayFilters.excludedCategories.includes(t.tid)},on:{input:function(r){return e.updateExcludedLogCategory(t.tid,r.target.checked)}}}),e._v(" "),r("label",{class:{selected:!e.logDisplayFilters.excludedCategories.includes(t.tid)},attrs:{for:"log-categories"},on:{click:function(r){e.updateExcludedLogCategory(t.tid,e.checkChecked("category-"+t.tid))}}},[e._v("\n        "+e._s(t.name)+"\n      ")])])}))],2)])},a=[]},VMdC:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("router-view",{attrs:{name:"menubar",logs:e.logs},on:{toggleDrawer:function(t){return e.$emit("toggleDrawer")},deleteCurrentLog:function(t){return e.openDeleteDialog(t)},syncAll:e.syncAll,resetDisplayFilters:e.resetDisplayFilters}}),e._v(" "),r("router-view",{attrs:{logTypes:e.logTypes,logs:e.sortLogsDescending(e.logs),areas:e.areas,assets:e.assets,useGeolocation:e.useGeolocation,units:e.units,categories:e.categories,equipment:e.equipment,userId:e.userId,logDisplayFilters:e.logDisplayFilters,systemOfMeasurement:e.systemOfMeasurement},on:{deleteLog:function(t){return e.openDeleteDialog(t)},addToExcludedTypes:function(t){return e.addToExcludedTypes(t)},removeFromExcludedTypes:function(t){return e.removeFromExcludedTypes(t)},addToExcludedCategories:function(t){return e.addToExcludedCategories(t)},removeFromExcludedCategories:function(t){return e.removeFromExcludedCategories(t)},setDateFilter:function(t){return e.setDateFilter(t)}}}),e._v(" "),e.showDeleteDialog?r("div",{staticClass:"modal",attrs:{id:"delete-dialog",tabindex:"-1",role:"dialog"}},[r("div",{staticClass:"modal-filter"}),e._v(" "),r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v("Confirm Deletion")]),e._v(" "),r("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.cancelDelete}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),e._v(" "),r("div",{staticClass:"modal-body"},[e._v("\n          Are sure you'd like to delete the log \""+e._s(e.logToDelete.name)+'"? \n          '),e.logToDelete.wasPushedToServer?r("span",[e._v("\n            Deleting it on this device will not remove the log from the server.\n          ")]):r("span",[e._v("\n            It has not yet been synced to the server and cannot be recovered after it's deleted.\n          ")])]),e._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.cancelDelete}},[e._v("\n          Cancel\n        ")]),e._v(" "),r("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.confirmDelete()}}},[e._v("\n          Delete\n        ")])])])])]):e._e()],1)},a=[]},Vq29:function(e,t,r){"use strict";r.r(t);var n=r("Blcz"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},Vtdi:function(e,t,r){"use strict";var n=r("TqRt");r("27D/");var a=n(r("+gRR")),o=n(r("YMwY"));(0,a.default)("#app",[o.default]),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js")}))},WWDh:function(e,t,r){},WXfM:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:["label","labelPosition","checked"]}},Wcwp:function(e,t,r){},WnpN:function(e,t,r){},X4Sr:function(e,t,r){"use strict";r.r(t);var n=r("2mNX"),a=r("Sseh");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("JlXC");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"7c880edf",null);t.default=i.exports},XRp1:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}})])}),[],!1,null,null,null);t.default=a.exports},Y4wU:function(e,t,r){"use strict";r.r(t);var n=r("vR1B"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},YMwY:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("cC/z")),o=(0,n(r("6JTb")).default)(a.default);t.default=o},ZTW0:function(e,t,r){"use strict";r.r(t);var n=r("9X70"),a=r("6nSO");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("3TeU");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"2be2e6cb",null);t.default=i.exports},ZZju:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("wkee")),o=n(r("8HxT")),s={name:"AllLogsMenuBar",components:{MenuBar:a.default,IconArrowBack:o.default},data:function(){return{showMore:!1}},methods:{resetDisplayFilters:function(){this.$emit("resetDisplayFilters")}}};t.default=s},"aG/g":function(e,t,r){"use strict";r.r(t);var n=r("AmVe"),a=r("Y4wU");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("UZkn");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"063c4d32",null);t.default=i.exports},b0jK:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("drawer-list",[t("router-link",{attrs:{to:{name:"logs"}}},[t("drawer-list-item",[this._v("My Logs")])],1),this._v(" "),t("drawer-list-item",{on:{click:this.openNewLog}},[this._v("New Log")])],1)},a=[]},"cC/z":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("NVlx")),o={name:"my-logs",drawer:n(r("Ffyi")).default,filters:{log:{log_owner:"SELF",done:!1}},routes:a.default};t.default=o},cvQL:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("menu-bar",{scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("li",{on:{click:function(t){return e.$emit("toggleDrawer")}}},[r("icon-menu")],1),e._v(" "),r("li",[e._v("My Logs")])]},proxy:!0},{key:"right-menu",fn:function(){return[r("router-link",{staticClass:"filter",attrs:{to:{name:"filter-logs"},tag:"li"}},[r("icon-filter")],1),e._v(" "),r("li",{on:{click:function(t){return e.$emit("syncAll")}}},[r("icon-cloud-upload")],1)]},proxy:!0},{key:"more-menu",fn:function(){return[r("li",{on:{click:function(t){return e.$emit("syncAll")}}},[e._v("Sync all logs")]),e._v(" "),r("router-link",{staticClass:"filter",attrs:{to:{name:"filter-logs"},tag:"li"}},[e._v("\n      Filter logs\n    ")])]},proxy:!0}])})},a=[]},dHxB:function(e,t,r){"use strict";r.r(t);var n=r("VMdC"),a=r("QYYL");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("n6hJ");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"3ccee13b",null);t.default=i.exports},duu2:function(e,t,r){"use strict";r.r(t);var n=r("pUgF"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},eUst:function(e,t,r){"use strict";r.r(t);var n=r("eosD"),a=r("SJym");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("M6Kt");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"0d2f6d4e",null);t.default=i.exports},eWlR:function(e,t,r){},efym:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("categories",{keyPath:"tid"}),t()}catch(e){r(e)}}))}}];t.default=n},enu1:function(e,t,r){"use strict";r.r(t);var n=r("Qsy8"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},eosD:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.label&&"before"===e.labelPosition?r("label",[e._v(e._s(e.label)+" ")]):e._e(),e._v(" "),r("input",{staticClass:"toggle-check",attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{input:function(t){return e.$emit("input",t.target.checked)}}}),e._v(" "),e.label&&"after"===e.labelPosition?r("label",[e._v(e._s(e.label)+" ")]):e._e()])},a=[]},f8sa:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}})])}),[],!1,null,null,null);t.default=a.exports},"fC+r":function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.createSyncReducer=t.SyncError=void 0;var a=n(r("lSNA")),o=n(r("J4zp")),s=n(r("lwsE")),i=n(r("a1gu")),l=n(r("Nsbk")),u=n(r("7W2i")),c=n(r("oShl")),d=n(r("8pOr"));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var p=function(e){(0,u.default)(n,e);var t,r=(t=n,function(){var e,r=(0,l.default)(t);if(m()){var n=(0,l.default)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,i.default)(this,e)});function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.responses,o=void 0===a?[]:a;(0,s.default)(this,n);for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return(e=r.call.apply(r,[this].concat(l))).name="SyncError",e.responses=o,e}return n}((0,c.default)(Error));t.SyncError=p;t.createSyncReducer=function(e){return function(t,r,n){var s=(0,o.default)(t,3),i=s[0],l=s[1],u=s[2],c={index:n,props:{}};if(r.isReadyToSync&&!r.wasPushedToServer){var m=d.default.reduce((function(t,n){var o=n(r,e);return o.syncable?(o.updateProps&&(c.props=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c.props,{},o.updateProps)),t):{syncable:!1,message:"".concat(t.message,"<br>- ").concat(o.reason)}}),{syncable:!0,message:'Could not sync "'.concat(r.name.data,'":')}),p=m.syncable,v=m.message;if(!p)return[i,l.concat({index:n,message:v}),u];var g=Object.values(c.props).length>0;return g&&(c.props.isCachedLocally=!1),[i.concat(n),l,g?u.concat(c):u]}return[i,l,u]}}},fDWo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("assets",{keyPath:"id"}),t()}catch(e){r(e)}}))}}];t.default=n},"fV+d":function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(e,t){return(0,t._c)("ul",{staticClass:"row list-group drawer"},[t._t("default")],2)}),[],!0,null,"5eaf9a68",null);t.default=a.exports},gjnb:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("RIqP")),o=r("L2JU"),s={name:"Map",data:function(){return{map:{},layers:{wkt:null,geojson:null,mapbox:null},defaultStyles:{height:"100vw"}}},props:{id:String,overrideStyles:Object,drawing:Boolean,options:{type:Object,controls:[Boolean,Array,Function],interactions:[Boolean,Array,Function],units:String,default:function(){return{controls:!0,interactions:!0,units:"us"}}},wkt:{type:Array,validator:function(e){return e.every((function(e){return!("string"!=typeof e.title||"string"!=typeof e.wkt&&e.wkt||"string"!=typeof e.color||e.visible&&"boolean"!=typeof e.visible||"number"!=typeof e.weight||"boolean"!=typeof e.canEdit)}))}},geojson:{title:String,url:String,color:String,visible:Boolean}},computed:(0,o.mapState)({mapboxAPIKey:function(e){return e.shell.mapboxAPIKey}}),mounted:function(){var e=this;this.map=window.farmOS.map.create(this.id,this.options),this.geojson.url&&(this.layers.geojson=this.map.addLayer("geojson",this.geojson));var t=!1,r=this.wkt.map((function(e){return e.wkt&&"GEOMETRYCOLLECTION EMPTY"!==e.wkt?e.weight:99}));if(this.wkt.forEach((function(n){!e.drawing&&n.wkt&&"GEOMETRYCOLLECTION EMPTY"!==n.wkt&&(e.layers[n.title]=e.map.addLayer("wkt",n),n.weight===Math.min.apply(Math,(0,a.default)(r))&&e.map.zoomToLayer(e.layers[n.title]),t=!0),e.drawing&&(n.wkt&&"GEOMETRYCOLLECTION EMPTY"!==n.wkt?(n.weight===Math.min.apply(Math,(0,a.default)(r))&&n.canEdit?(e.layers[n.title]=e.map.addLayer("wkt",n),e.map.zoomToLayer(e.layers[n.title]),e.map.addBehavior("edit",{layer:e.layers[n.title]}),e.map.addBehavior("measure",{layer:e.layers[n.title]})):n.weight===Math.min.apply(Math,(0,a.default)(r))?(e.layers[n.title]=e.map.addLayer("wkt",n),e.map.zoomToLayer(e.layers[n.title])):e.layers[n.title]=e.map.addLayer("wkt",n),t=!0):(e.map.addBehavior("edit"),e.map.addBehavior("measure",{layer:e.map.edit.layer})))})),this.drawing&&this.map.edit&&(this.map.edit.wktOn("drawend",(function(t){e.$emit("update-wkt",t)})),this.map.edit.wktOn("modifyend",(function(t){e.$emit("update-wkt",t)})),this.map.edit.wktOn("translateend",(function(t){e.$emit("update-wkt",t)})),this.map.edit.wktOn("delete",(function(t){e.$emit("update-wkt",t)}))),t||this.layers.geojson.getSource().once("change",(function(){e.map.zoomToVectors()})),this.mapboxAPIKey){var n={title:"MapBox Satellite",url:"https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=".concat(this.mapboxAPIKey),group:"Base layers",base:!0,visible:!0};this.layers.mapbox=this.map.addLayer("xyz",n)}},beforeDestroy:function(){window.farmOS.map.destroy(this.id),this.map=null},watch:{wkt:{handler:function(e){var t=this;if(!this.drawing){var r=!1,n=e.map((function(e){return e.wkt&&"GEOMETRYCOLLECTION EMPTY"!==e.wkt?e.weight:99}));e.forEach((function(e){t.layers[e.title]&&(t.map.map.removeLayer(t.layers[e.title]),t.layers[e.title]=null),e.wkt&&"GEOMETRYCOLLECTION EMPTY"!==e.wkt&&(t.layers[e.title]=t.map.addLayer("wkt",e),e.weight===Math.min.apply(Math,(0,a.default)(n))&&(t.map.zoomToLayer(t.layers[e.title]),r=!0))})),r||this.map.zoomToVectors()}},deep:!0}}};t.default=s},gueZ:function(e,t,r){},hKAu:function(e,t,r){"use strict";r.r(t);var n=r("APWe"),a=r("Vq29");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,null,null);t.default=i.exports},hdPq:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{version:1,onUpgrade:function(e){return new Promise((function(t,r){var n=e.target.result;try{n.createObjectStore("units",{keyPath:"tid"}),t()}catch(e){r(e)}}))}}];t.default=n},i1sA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={actions:{getPhotoFromCamera:function(e,t){var r=e.dispatch;new Promise((function(e,t){var r={quality:50,destinationType:Camera.DestinationType.DATA_URL};navigator.camera.getPicture((function(t){e(t)}),(function(e){t(e)}),r)})).then((function(e){var n="data:image/jpeg;base64,".concat(e),a={images:t.images.concat(n),localID:t.localID};r("updateLog",a)}),(function(e){}))},loadPhotoBlob:function(e,t){var r=e.dispatch,n=t.file,a=t.log;(function(e){return new Promise((function(t,r){var n=new FileReader;n.onloadend=function(){return t(n.result)},n.onerror=function(){return r(n.error)},n.readAsDataURL(e)}))})(n).then((function(e){var t={images:a.images.concat(e),localID:a.localID};r("updateLog",t)}))}}};t.default=n},iUy7:function(e,t,r){"use strict";r.r(t);var n=r("jSSl"),a=r("+mU5");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"3983e8e4",null);t.default=i.exports},iVBF:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",width:"24",height:"24","xml:space":"preserve"}},[t("polygon",{attrs:{points:"222.949,302.964 222.949,512 289.051,467.933 289.051,302.964 \t\t"}}),this._v(" "),t("rect",{attrs:{x:"2.612",width:"506.776",height:"49.576"}}),this._v(" "),t("polygon",{attrs:{points:"19.137,82.627 206.424,269.913 305.576,269.913 492.863,82.627 \t\t"}})])}),[],!1,null,null,null);t.default=a.exports},ihLf:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tab-container"},[r("div",{staticClass:"tab-bar"},[r("div",{staticClass:"tab",class:{selected:"FIRST"===e.tabSelected},on:{click:function(t){e.tabSelected="FIRST"}}},[r("h5",[e._v("GENERAL")])]),e._v(" "),r("div",{staticClass:"tab",class:{selected:"SECOND"===e.tabSelected},on:{click:function(t){e.tabSelected="SECOND"}}},[r("h5",[e._v("MOVEMENT")])])]),e._v(" "),r("div",{staticClass:"tab-indicator",class:[{first:"FIRST"===e.tabSelected},{second:"SECOND"===e.tabSelected}]}),e._v(" "),r("div",{staticClass:"container-fluid tab-content first",class:{selected:"FIRST"===e.tabSelected}},[r("br"),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("toggle-check",{attrs:{label:"Done",labelPosition:"after",checked:e.currentLog.done},on:{input:function(t){return e.updateCurrentLog("done",t)}}})],1),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label",attrs:{for:"name"}},[e._v("Name")]),e._v(" "),r("input",{staticClass:"form-control",attrs:{placeholder:"Enter name",type:"text",autofocus:""},domProps:{value:e.currentLog.name},on:{input:function(t){return e.updateCurrentLog("name",t.target.value)}}})]),e._v(" "),r("date-and-time-form",{attrs:{timestamp:e.currentLog.timestamp},on:{input:function(t){return e.updateCurrentLog("timestamp",t)}}}),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label ",attrs:{for:"type"}},[e._v("Log Type")]),e._v(" "),void 0===e.currentLog.id?r("div",{staticClass:"input-group"},[r("select",{staticClass:"custom-select col-sm-3 ",domProps:{value:e.currentLog.type},on:{input:function(t){return e.updateCurrentLog("type",t.target.value)}}},e._l(e.logTypes,(function(t,n){return r("option",{key:t.label+"-"+n,domProps:{value:n}},[e._v("\n              "+e._s(t.label)+"\n            ")])})),0)]):e._e(),e._v(" "),void 0!==e.currentLog.id?r("div",{staticClass:"form-item"},[r("p",[e._v(" "+e._s(e.logTypes[e.currentLog.type].label)+" ")])]):e._e()]),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label ",attrs:{for:"notes"}},[e._v("Notes")]),e._v(" "),r("textarea",{staticClass:"form-control",attrs:{placeholder:"Enter notes",type:"text"},domProps:{value:e.parseNotes(e.currentLog.notes)},on:{input:function(t){return e.updateNotes(t.target.value)}}})]),e._v(" "),r("h4",[e._v("Log Categories")]),e._v(" "),r("div",{staticClass:"form-item form-group",attrs:{id:"categories"}},[e.showAllCategories||e.currentLog.log_category&&!(e.currentLog.log_category.length<1)?e._e():r("p",[e._v("\n        No categories selected\n      ")]),e._v(" "),e._l(e.filteredCategories,(function(t){return r("select-box",{key:"category-"+t.tid+"-"+t.name,attrs:{small:"",id:"category-"+t.tid+"-"+t.name,selected:e.currentLog.log_category&&e.currentLog.log_category.some((function(e){return t.tid===e.id})),label:t.name},on:{input:function(r){r?e.addCategory(t.tid):e.removeCategory(e.currentLog.log_category.findIndex((function(e){return t.tid===e.id})))}}})})),e._v(" "),r("div",{staticClass:"show-hide"},[e.showAllCategories?e._e():r("div",{on:{click:function(t){e.showAllCategories=!e.showAllCategories}}},[r("p",[r("icon-expand-more"),e._v("Show More")],1)]),e._v(" "),e.showAllCategories?r("div",{on:{click:function(t){e.showAllCategories=!e.showAllCategories}}},[r("p",[r("icon-expand-less"),e._v("Show Less")],1)]):e._e()])],2),e._v(" "),void 0!==e.currentLog.quantity?r("div",[r("h4",[e._v("Quantities")]),e._v(" "),r("label",{staticClass:"control-label ",attrs:{for:"quantity"}},[e._v("Add new or edit existing quantity")]),e._v(" "),e.currentQuant>=0?r("div",{staticClass:"form-item form-item-name form-group"},[r("select",{staticClass:"custom-select col-sm-3 ",domProps:{value:e.currentLog.quantity&&e.currentLog.quantity.length>0&&e.currentLog.quantity[e.currentQuant].measure?e.currentLog.quantity[e.currentQuant].measure:"Select measure"},on:{input:function(t){return e.updateQuantity("measure",t.target.value,e.currentQuant)}}},[r("option",[e._v("Select measure")]),e._v(" "),e._l(e.quantMeasures,(function(t,n){return r("option",{key:"measure-"+n,domProps:{value:t}},[e._v("\n              "+e._s(t)+"\n            ")])}))],2),e._v(" "),r("input",{staticClass:"form-control",attrs:{placeholder:"Enter value",type:"number"},domProps:{value:e.currentLog.quantity&&e.currentLog.quantity.length>0?e.currentLog.quantity[e.currentQuant].value:null},on:{input:function(t){return e.updateQuantity("value",t.target.value,e.currentQuant)}}}),e._v(" "),r("select",{staticClass:"custom-select col-sm-3 ",domProps:{value:e.currentLog.quantity&&e.currentLog.quantity.length>0&&e.currentLog.quantity[e.currentQuant].unit?e.currentLog.quantity[e.currentQuant].unit.id:"Select unit"},on:{input:function(t){return e.updateQuantity("unit",t.target.value,e.currentQuant)}}},[r("option",[e._v("Select unit")]),e._v(" "),e._l(e.units,(function(t,n){return r("option",{key:"unit-"+n,domProps:{value:t.tid}},[e._v("\n              "+e._s(e.units?t.name:"")+"\n            ")])}))],2),e._v(" "),r("input",{staticClass:"form-control",attrs:{placeholder:"Enter label",type:"text"},domProps:{value:e.currentLog.quantity&&e.currentLog.quantity.length>0?e.currentLog.quantity[e.currentQuant].label:null},on:{input:function(t){return e.updateQuantity("label",t.target.value,e.currentQuant)}}})]):e._e(),e._v(" "),r("div",{staticClass:"form-item form-group"},[e.currentLog.quantity&&e.currentLog.quantity.length>0?r("ul",{staticClass:"list-group"},e._l(e.currentLog.quantity,(function(t,n){return r("li",{key:"quantity-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item",on:{click:function(t){e.currentQuant=n}}},[e._v("\n            "+e._s(t.measure)+" \n            "+e._s(t.value)+" \n            "+e._s(e.quantUnitNames.length>0?e.quantUnitNames[n]:"")+" \n            "+e._s(t.label)+"\n            "),r("span",{staticClass:"remove-list-item",on:{click:function(t){e.removeQuant(n),t.stopPropagation()}}},[e._v("\n              ✕\n            ")])])})),0):e._e()]),e._v(" "),r("div",{staticClass:"form-item form-group"},[r("button",{staticClass:"btn btn-success",attrs:{type:"button",name:"addNewQuantity"},on:{click:function(t){return e.updateQuantity(null,null,-1)}}},[e._v("\n          Add another quantity\n        ")])])]):e._e(),e._v(" "),r("h4",[e._v("Assets")]),e._v(" "),r("Autocomplete",{class:{invalid:e.assetsRequired()},attrs:{objects:e.filteredAssets,searchKey:"name",searchId:"id",label:e.assetsRequired()?"Seedings must include assets!":"Add assets to the log"},on:{results:function(t){return e.addAsset(t)}}},[r("template",{slot:"empty"},[r("div",{staticClass:"empty-slot"},[r("em",[e._v("No assets found.")]),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"btn btn-light",attrs:{type:"button",name:"button"},on:{click:e.forceSync}},[e._v("\n            Sync Now\n          ")])])])],2),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},e._l(e.selectedAssets,(function(t,n){return r("li",{key:"log-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n          "+e._s(t.name)+"\n          "),r("span",{staticClass:"remove-list-item",on:{click:function(r){return e.removeAsset(t)}}},[e._v("\n            ✕\n          ")])])})),0)]),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label ",attrs:{for:"type"}},[e._v("Equipment")]),e._v(" "),r("div",{staticClass:"input-group"},[r("select",{staticClass:"custom-select col-sm-3 ",on:{input:function(t){return e.addEquipment(t.target.value)}}},[r("option",{attrs:{value:""}}),e._v(" "),e._l(e.equipment,(function(t,n){return r("option",{key:"equip-"+n,domProps:{value:t.id}},[e._v("\n            "+e._s(t?t.name:"")+"\n          ")])}))],2)])]),e._v(" "),r("div",{staticClass:"form-item form-group"},[e.currentLog.equipment?r("ul",{staticClass:"list-group"},e._l(e.currentLog.equipment,(function(t,n){return r("li",{key:"log-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n          "+e._s(e.equipmentNames.length>0?e.equipmentNames[n]:"")+"\n          "),r("span",{staticClass:"remove-list-item",on:{click:function(t){return e.removeEquipment(n)}}},[e._v("\n            ✕\n          ")])])})),0):e._e()]),e._v(" "),"farm_seeding"!==e.currentLog.type?r("div",{attrs:{id:"areas-and-location"}},[r("h4",[e._v("Areas & Location")]),e._v(" "),e.useGeolocation?r("div",{staticClass:"form-item form-item-name form-group"},[r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.useLocalAreas,expression:"useLocalAreas"}],staticClass:"form-check-input",attrs:{type:"radio",id:"dontUseGeo",name:"geoRadioGroup",checked:""},domProps:{value:!1,checked:e._q(e.useLocalAreas,!1)},on:{change:function(t){e.useLocalAreas=!1}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"dontUseGeo"}},[e._v("Search areas")])]),e._v(" "),r("div",{staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.useLocalAreas,expression:"useLocalAreas"}],staticClass:"form-check-input",attrs:{type:"radio",id:"doUseGeo",name:"geoRadioGroup"},domProps:{value:!0,checked:e._q(e.useLocalAreas,!0)},on:{change:function(t){e.useLocalAreas=!0}}}),e._v(" "),r("label",{staticClass:"form-check-label",attrs:{for:"doUseGeo"}},[e._v("Use my location")])])]):e._e(),e._v(" "),e.useLocalAreas?r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"areaSelector"}},[e._v("Farm areas near your current location")]),e._v(" "),r("select",{staticClass:"form-control",attrs:{name:"areas"},on:{input:function(t){return e.addArea(t.target.value)}}},[e.localAreas.length<1?r("option",{attrs:{value:""}},[e._v("No other areas nearby")]):e._e(),e._v(" "),e.localAreas.length>0?r("option",{attrs:{value:"",selected:""}},[e._v("-- Select an Area --")]):e._e(),e._v(" "),e._l(e.localAreas,(function(t){return r("option",{key:"area-"+t.tid,domProps:{value:t.tid}},[e._v("\n            "+e._s(t.name)+"\n          ")])}))],2)]):e._e(),e._v(" "),e.useLocalAreas?e._e():r("Autocomplete",{attrs:{objects:e.filteredAreas,searchKey:"name",searchId:"tid",label:"Add areas to the log"},on:{results:function(t){return e.addArea(t)}}},[r("template",{slot:"empty"},[r("div",{staticClass:"empty-slot"},[r("em",[e._v("No areas found.")]),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"btn btn-light",attrs:{type:"button",name:"button"},on:{click:e.forceSync}},[e._v("\n              Sync Now\n            ")])])])],2),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},e._l(e.selectedAreas,(function(t,n){return r("li",{key:"log-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n            "+e._s(t.name)+"\n            "),r("span",{staticClass:"remove-list-item",on:{click:function(r){return e.removeArea(t)}}},[e._v("\n              ✕\n            ")])])})),0)]),e._v(" "),e.useGeolocation?r("div",{staticClass:"form-item form-item-name form-group"},[r("button",{staticClass:"btn btn-success btn-navbar",attrs:{disabled:!1,title:"Add my GPS location to the log",type:"button"},on:{click:e.addLocation}},[e._v("\n          Add my GPS location to the log\n        ")])]):e._e(),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},[e._l(e.filteredGeofields,(function(t,n){return r("li",{key:"geofield-"+n,staticClass:"list-group-item"},[e._v("\n            "+e._s(t.geom)+"\n            "),r("span",{staticClass:"remove-list-item",on:{click:function(t){return e.removeLocation(n)}}},[e._v("\n              ✕\n            ")])])})),e._v(" "),e.isWorking?r("li",{staticClass:"list-item-group"},[r("icon-spinner")],1):e._e()],2)])],1):e._e(),e._v(" "),r("h4",[e._v("Images")]),e._v(" "),e.isNative?r("div",{staticClass:"form-item form-item-name form-group"},[r("button",{staticClass:"btn btn-info btn-navbar navbar-right",attrs:{disabled:!1,title:"Take picture with camera",type:"button"},on:{click:e.getPhoto}},[e._v("\n        Take picture with camera\n      ")])]):e._e(),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("div",{staticClass:"input-group "},[r("label",{staticClass:"custom-file-label",attrs:{for:"customFile"}},[e._v("\n          Select photo from file\n        ")]),e._v(" "),r("input",{ref:"photo",staticClass:"custom-file-input",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.loadPhoto(t.target.files)}}})])]),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},e._l(e.imageUrls,(function(e,t){return r("img",{key:"preview-"+t,staticClass:"preview",attrs:{src:e,onerror:"this.style.display='none'"}})})),0)],1),e._v(" "),void 0!==e.currentLog.movement?r("div",{staticClass:"container-fluid tab-content second",class:{selected:"SECOND"===e.tabSelected}},[r("br"),e._v(" "),r("Autocomplete",{class:{invalid:e.assetsRequired()},attrs:{objects:e.filteredAssets,searchKey:"name",searchId:"id",label:e.assetsRequired()?"Seedings must include assets!":"Add assets to be moved"},on:{results:function(t){return e.addAsset(t)}}},[r("template",{slot:"empty"},[r("div",{staticClass:"empty-slot"},[r("em",[e._v("No assets found.")]),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"btn btn-light",attrs:{type:"button",name:"button"},on:{click:e.forceSync}},[e._v("\n            Sync Now\n          ")])])])],2),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},e._l(e.selectedAssets,(function(t,n){return r("li",{key:"asset-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n          "+e._s(t.name)+"\n          "),r("span",{staticClass:"remove-list-item",on:{click:function(r){return e.removeAsset(t)}}},[e._v("\n            ✕\n          ")])])})),0)]),e._v(" "),r("Autocomplete",{attrs:{objects:e.filteredMovementAreas,searchKey:"name",searchId:"tid",label:"Movement to"},on:{results:function(t){return e.addMovementArea(t)}}},[r("template",{slot:"empty"},[r("div",{staticClass:"empty-slot"},[r("em",[e._v("No areas found.")]),e._v(" "),r("br"),e._v(" "),r("button",{staticClass:"btn btn-light",attrs:{type:"button",name:"button"},on:{click:e.forceSync}},[e._v("\n            Sync Now\n          ")])])])],2),e._v(" "),r("div",{staticClass:"form-item form-item-name form-group"},[r("ul",{staticClass:"list-group"},e._l(e.selectedMovementAreas,(function(t,n){return r("li",{key:"log-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item"},[e._v("\n          "+e._s(t.name)+"\n          "),r("span",{staticClass:"remove-list-item",on:{click:function(r){return e.removeMovementArea(t)}}},[e._v("\n            ✕\n          ")])])})),0)]),e._v(" "),r("router-link",{attrs:{to:{name:"edit-map"}}},[r("Map",{attrs:{id:"map",overrideStyles:{height:"90vw"},drawing:!1,options:{controls:function(e){return e.filter((function(e){return"Attribution"===e.constructor.name}))},interactions:!1},wkt:e.mapLayers,geojson:{title:"areas",url:e.areaGeoJSON,color:"grey"}}})],1),e._v(" "),r("br")],1):e._e()])},a=[]},jSSl:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this.$createElement;return(this._self._c||e)("Map",{attrs:{id:"map",overrideStyles:{height:"calc(100vh - 3rem)"},drawing:!0,options:{controls:function(e){return e.filter((function(e){return"FullScreen"!==e.constructor.name}))},units:this.systemOfMeasurement},wkt:this.mapLayers,geojson:{title:"areas",url:this.areaGeoJSON,color:"grey"}},on:{"update-wkt":this.updateMovement}})},a=[]},jjgV:function(e,t,r){},jqhR:function(e,t,r){"use strict";r.r(t);var n=r("mP8r"),a=r("oTXw");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,null,null);t.default=i.exports},k9oD:function(e,t,r){"use strict";var n=r("1kqF");r.n(n).a},kS0b:function(e,t,r){"use strict";r.r(t);var n=r("l6rr"),a=r("SLuX");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("4JU/");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"a964f552",null);t.default=i.exports},kiQV:function(e){e.exports=JSON.parse('{"name":"farmos-client","version":"0.4.18","description":"Client app for farmOS!","author":"farmOS team","license":"GPLv3","private":true,"scripts":{"dev":"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js","start":"npm run dev","lint":"eslint --color --ext .js,.vue src test/unit | less -R","lint-files":"node --eval \'process.argv.reduce((acc, cur) => `${acc} ${cur}`, ``)\' | eslint --color","build:web":"node build/build.js","build:native":"node build/build.js --native","test":"mocha-webpack --webpack-config build/webpack.test.conf.js --require test-setup.js src/**/*.test.js --watch"},"dependencies":{"@turf/turf":"^5.1.6","cordova-android":"^8.1.0","cordova-ios":"^4.5.5","cordova-plugin-camera":"^4.1.0","cordova-plugin-file":"^6.0.2","cordova-plugin-geolocation":"^4.0.2","cordova-plugin-ios-camera-permissions":"^1.2.0","cordova-plugin-network-information":"^2.0.2","cordova-plugin-splashscreen":"^5.0.3","cordova-plugin-whitelist":"^1.3.4","core-js-pure":"^3.4.7","farmOS-map":"github:farmOS/farmOS-map#v1.0.0","farmos":"0.0.9","moment":"^2.24.0","ramda":"^0.27.0","vue":"^2.6.10","vue-router":"^3.1.3","vuex":"^3.1.2","wellknown":"^0.5.0"},"devDependencies":{"@babel/core":"^7.8.4","@babel/plugin-proposal-optional-chaining":"^7.8.3","@babel/plugin-syntax-jsx":"^7.8.3","@babel/plugin-transform-runtime":"^7.8.3","@babel/preset-env":"^7.8.4","@vue/babel-helper-vue-jsx-merge-props":"^1.0.0","@vue/babel-plugin-transform-vue-jsx":"^1.1.2","@vue/test-utils":"^1.0.0-beta.30","autoprefixer":"^7.1.2","babel-eslint":"^8.2.6","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-loader":"^8.0.6","babel-plugin-transform-vue-jsx":"^4.0.1","chalk":"^2.4.2","commander":"^2.20.3","copy-webpack-plugin":"^4.6.0","css-loader":"^3.2.1","eslint":"^4.19.1","eslint-config-airbnb-base":"^13.2.0","eslint-friendly-formatter":"^3.0.0","eslint-import-resolver-webpack":"^0.10.1","eslint-loader":"^1.7.1","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^5.2.0","eslint-plugin-promise":"^3.8.0","eslint-plugin-vue":"^4.7.1","expect":"^24.9.0","file-loader":"^1.1.11","friendly-errors-webpack-plugin":"^1.7.0","html-webpack-plugin":"^3.2.0","jsdom":"^15.2.1","jsdom-global":"^3.0.2","mini-css-extract-plugin":"^0.5.0","mocha":"^6.2.2","mocha-webpack":"^2.0.0-beta.0","node-notifier":"^5.4.3","object.fromentries":"^2.0.2","optimize-css-assets-webpack-plugin":"^5.0.3","ora":"^1.2.0","portfinder":"^1.0.25","postcss-import":"^11.1.0","postcss-loader":"^2.1.6","postcss-url":"^7.3.2","rimraf":"^2.7.1","semver":"^5.7.1","shelljs":"^0.7.6","url-loader":"^1.1.2","vue-loader":"^15.7.2","vue-style-loader":"^3.0.1","vue-template-compiler":"^2.6.10","webpack":"^4.41.2","webpack-bundle-analyzer":"^3.6.1","webpack-cli":"^3.3.10","webpack-dev-server":"^3.9.0","webpack-merge":"^4.2.2","webpack-node-externals":"^1.7.2","workbox-webpack-plugin":"^4.3.1"},"engines":{"node":">= 6.0.0","npm":">= 3.0.0"},"browserslist":["> 1%","last 2 versions","not ie <= 8"],"cordova":{"plugins":{"cordova-plugin-whitelist":{},"cordova-plugin-network-information":{},"cordova-plugin-camera":{"CAMERA_USAGE_DESCRIPTION":"farmOS would like access to the camera","PHOTOLIBRARY_USAGE_DESCRIPTION":"farmOS would like access to the camera"},"cordova-plugin-ios-camera-permissions":{"CAMERA_USAGE_DESCRIPTION":"This app needs camera access","MICROPHONE_USAGE_DESCRIPTION":"This app needs microphone access","PHOTOLIBRARY_ADD_USAGE_DESCRIPTION":"This app needs write-access to photo library","PHOTOLIBRARY_USAGE_DESCRIPTION":"This app needs read/write-access photo library access"},"cordova-plugin-file":{},"cordova-plugin-geolocation":{},"cordova-plugin-splashscreen":{}},"platforms":["ios","android"]}}')},l6rr:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container-fluid"},[this._m(0),this._v(" "),t("div",{staticClass:"row justify-content-sm-center"},[t("div",{staticClass:"col col-sm-auto",attrs:{id:"go-back"}},[t("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"button",name:"button"},on:{click:this.goBack}},[this._v("\n        Go Back\n      ")])]),this._v(" "),t("div",{staticClass:"col col-sm-auto"},[t("button",{staticClass:"btn btn-lg btn-primary",attrs:{type:"button",name:"button"},on:{click:this.logout}},[this._v("\n        Logout\n      ")])])])])},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row",attrs:{id:"first-row"}},[t("div",{staticClass:"col"},[t("div",{staticClass:"card text-primary border-primary mb-3"},[t("div",{staticClass:"card-body"},[t("h4",{staticClass:"card-title"},[this._v("WARNING!")]),this._v(" "),t("p",{staticClass:"card-text"},[this._v("\n            Logging out will permanently delete all logs stored on this device.\n            You will not be able to recover logs which have not been synced with\n            your farmOS server. Go back to sync any unsaved logs, or proceed to\n            logout and clear all data from this device.\n          ")])])])])])}]},mP8r:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("menu-bar",{scopedSlots:e._u([{key:"left-menu",fn:function(){return[r("router-link",{attrs:{to:{name:"logs"},tag:"li"}},[r("icon-arrow-back")],1),e._v(" "),r("li",[e._v("Log Filters")])]},proxy:!0},{key:"more-menu",fn:function(){return[r("li",{on:{click:e.resetDisplayFilters}},[e._v("Reset filters")])]},proxy:!0}])})},a=[]},n6hJ:function(e,t,r){"use strict";var n=r("xvsX");r.n(n).a},nav2:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])}),[],!1,null,null,null);t.default=a.exports},o83v:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("ky0s")),o={name:"Logs",data:function(){return{showDeleteDialog:!1,logIDToDelete:null,logDisplayFilters:{date:"ALL_TIME",excludedTypes:[],excludedCategories:[]}}},props:["useGeolocation","userId","systemOfMeasurement","logTypes","logs","areas","assets","units","categories","equipment"],created:function(){this.clearDisplayFilters(),this.loadCachedDisplayFilters()},methods:{sortLogsDescending:function(e){return(0,a.default)((function(e,t){return t.timestamp-e.timestamp}),e)},openDeleteDialog:function(e){this.showDeleteDialog=!0,this.logIDToDelete=e},cancelDelete:function(){this.showDeleteDialog=!1},confirmDelete:function(){this.$store.commit("deleteLog",this.logIDToDelete),this.showDeleteDialog=!1,"edit-log"===this.$route.name&&this.$router.push({path:"/logs"})},syncAll:function(){this.$store.dispatch("syncAllLogs"),this.$store.dispatch("updateAssets"),this.$store.dispatch("updateAreas"),this.$store.dispatch("updateUnits"),this.$store.dispatch("updateCategories")},addToExcludedTypes:function(e){var t=this.logDisplayFilters.excludedTypes.concat(e);this.logDisplayFilters.excludedTypes=t,localStorage.setItem("excludedTypes",JSON.stringify(t))},removeFromExcludedTypes:function(e){var t=this.logDisplayFilters.excludedTypes.filter((function(t){return e!==t}));this.logDisplayFilters.excludedTypes=t,localStorage.setItem("excludedTypes",JSON.stringify(t))},addToExcludedCategories:function(e){var t=this.logDisplayFilters.excludedCategories.concat(e);this.logDisplayFilters.excludedCategories=t,localStorage.setItem("excludedCategories",JSON.stringify(t))},removeFromExcludedCategories:function(e){var t=this.logDisplayFilters.excludedCategories.filter((function(t){return e!==t}));this.logDisplayFilters.excludedCategories=t,localStorage.setItem("excludedCategories",JSON.stringify(t))},setDateFilter:function(e){this.logDisplayFilters.date=e,localStorage.setItem("dateFilter",e)},clearDisplayFilters:function(){this.logDisplayFilters={date:"ALL_TIME",excludedTypes:[],excludedCategories:[]}},loadCachedDisplayFilters:function(){var e=this,t=JSON.parse(localStorage.getItem("excludedTypes")),r=JSON.parse(localStorage.getItem("excludedCategories")),n=localStorage.getItem("dateFilter");null!==t&&t.forEach((function(t){return e.addToExcludedTypes(t)})),null!==r&&r.forEach((function(t){return e.addToExcludedCategories(t)})),null!==n&&this.setDateFilter(n)},resetDisplayFilters:function(){this.clearDisplayFilters(),localStorage.setItem("excludedTypes","[]"),localStorage.setItem("excludedCategories","[]"),localStorage.setItem("dateFilter","ALL_TIME")}},computed:{logToDelete:function(){var e=this;return this.logs.find((function(t){return t.localID===e.logIDToDelete}))}}};t.default=o},oL7M:function(e,t,r){"use strict";r.r(t);var n=r("D4tj"),a=r("QNn5");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,null,null);t.default=i.exports},oTXw:function(e,t,r){"use strict";r.r(t);var n=r("ZZju"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},oi19:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-item form-item-name form-group"},[r("label",{staticClass:"control-label",attrs:{for:"search"}},[e._v(e._s(e.label))]),e._v(" "),r("input",{staticClass:"form-control",attrs:{placeholder:"Enter text to search",type:"text"},domProps:{value:e.search},on:{focus:e.openResults,input:function(t){return e.doSearch(t.target.value)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onArrowDown(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onArrowUp(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)}]}}),e._v(" "),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen&&e.search.length>0,expression:"isOpen && search.length > 0"}],staticClass:"list-group search-results"},[0===e.searchResults.length?r("li",{staticClass:"list-group-item empty"},[e._t("empty",[e._v("No Results")])],2):e._l(e.searchResults,(function(t,n){return r("li",{key:"result-"+n+"-"+Math.floor(1e6*Math.random()),staticClass:"list-group-item",class:{"is-active":n===e.counter},on:{click:function(r){return e.selectSearchResult(t[e.searchId])}}},[e._v("\n      "+e._s(t[e.searchKey])+"\n    ")])}))],2)])},a=[]},oqYx:function(e,t,r){"use strict";r.r(t);r("Gq5i");var n=r("KHd+"),a=Object(n.a)({},(function(e,t){return(0,t._c)("li",{staticClass:"list-group-item",class:{clickable:void 0===t.props.clickable||t.props.clickable}},[t._t("default")],2)}),[],!0,null,"b1c4e8a4",null);t.default=a.exports},pUgF:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("fV+d")),o=n(r("oqYx")),s={components:{DrawerList:a.default,DrawerListItem:o.default},methods:{openNewLog:function(){var e=this;this.$store.dispatch("initializeLog",{modules:["my-logs"],done:!0}).then((function(t){return e.$router.push({path:"/logs/".concat(t)})}))}}};t.default=s},qF9E:function(e,t,r){"use strict";var n=r("Wcwp");r.n(n).a},qWsX:function(e,t,r){"use strict";r.r(t);var n=r("cvQL"),a=r("FhkT");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("7faE");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"07c5a29f",null);t.default=i.exports},qnip:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"card-group"},[e.logs.length<1?r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title"},[e._v("Let's Get Started!")]),e._v(" "),r("p",{staticClass:"card-text"},[e._v("\n          You don't have any logs to display yet. Logs are records of events\n          in farmOS. You can add some by clicking the "),r("IconAddCircle",{staticClass:"inline-svg"}),e._v("\n          icon below, or you can get uncompleted tasks from the server by\n          clicking the "),r("IconCloudUpload",{staticClass:"inline-svg"}),e._v(" icon above.\n        ")],1)])]):e._e(),e._v(" "),e._l(e.logs,(function(t,n){return e.logs.length>0&&e.passesFilters(t)?r("div",{key:"card-"+n,staticClass:"card"},[r("router-link",{attrs:{to:{path:"/logs/"+t.localID}}},[r("div",{staticClass:"card-body"},[r("div",{staticClass:"card-row-1"},[t.done?r("icon-assignment-done",{staticClass:"assignment done"}):e._e(),e._v(" "),!t.done&&1e3*t.timestamp>(new Date).valueOf()?r("icon-assignment",{staticClass:"assignment"}):e._e(),e._v(" "),!t.done&&1e3*t.timestamp<(new Date).valueOf()?r("icon-assignment-late",{staticClass:"assignment late"}):e._e(),e._v(" "),r("div",{staticClass:"log-name"},[r("h5",[e._v(e._s(t.name))])]),e._v(" "),t.wasPushedToServer?r("icon-cloud-done",{staticClass:"sync-status"}):t.isReadyToSync?r("div",{staticClass:"spin sync-status",attrs:{"aria-hidden":"true"}},[r("icon-sync")],1):r("icon-cloud-upload",{staticClass:"sync-status"})],1),e._v(" "),r("div",{staticClass:"card-row-2"},[r("p",[e._v(e._s(e.parseNotes(t.notes)))])]),e._v(" "),r("div",{staticClass:"card-row-3"},[r("div",{staticClass:"date-and-type"},[r("span",{staticClass:"log-type"},[e._v(e._s(e.logTypes[t.type].label.toUpperCase()))]),e._v(" "),r("span",[e._v(e._s(e.showDate(t.timestamp)))])]),e._v(" "),r("div",{staticClass:"tags"},[e._l(e.mapTidsToAreas(t),(function(t,n){return r("span",{key:"area-"+n,staticClass:"tag tag-area"},[e._v("\n                "+e._s(t.name)+"\n              ")])})),e._v(" "),e._l(e.mapIdsToAssets(t),(function(t,n){return r("span",{key:"asset-"+n,staticClass:"tag tag-asset"},[e._v("\n                "+e._s(t.name)+"\n              ")])}))],2)])])])],1):e._e()}))],2),e._v(" "),r("div",{staticClass:"add-circle",on:{click:e.startNewLog}},[r("div",{staticClass:"background-circle"}),e._v(" "),r("icon-add-circle")],1)])},a=[]},rYdS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{id:String,selected:Boolean,label:String,small:Boolean},methods:{checkChecked:function(e){return!document.getElementById(this.id).checked}}};t.default=n},sH3d:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={farm_activity:{label:"Activity",label_plural:"Activities",fields:{area:{label:"Areas",type:"taxonomy_term_reference",required:0,default_value:[]},asset:{label:"Assets",type:"entityreference",required:0,default_value:[]},files:{label:"Files",type:"file",required:0,default_value:[]},geofield:{label:"Geometry",type:"geofield",required:0,default_value:null},images:{label:"Photos",type:"image",required:0,default_value:[]},notes:{label:"Notes",type:"text_long",required:0,default_value:null},movement:{label:"Movement",type:"field_collection",required:0,default_value:null},log_category:{label:"Log category",type:"taxonomy_term_reference",required:0,default_value:null},log_owner:{label:"Assigned to",type:"entityreference",required:0,default_value:null},inventory:{label:"Inventory adjustments",type:"field_collection",required:0,default_value:null},membership:{label:"Group membership",type:"field_collection",required:0,default_value:null},quantity:{label:"Quantity",type:"field_collection",required:0,default_value:null},flags:{label:"Flags",type:"list_text",required:0,default_value:null},data:{label:"Data",type:"text_long",required:0,default_value:null},equipment:{label:"Equipment used",type:"entityreference",required:0,default_value:null}}},farm_harvest:{label:"Harvest",label_plural:"Harvests",fields:{files:{label:"Files",type:"file",required:0,default_value:[]},geofield:{label:"Geometry",type:"geofield",required:0,default_value:null},images:{label:"Photos",type:"image",required:0,default_value:[]},notes:{label:"Notes",type:"text_long",required:0,default_value:null},quantity:{label:"Quantity",type:"field_collection",required:0,default_value:null},asset:{label:"Assets",type:"entityreference",required:0,default_value:null},movement:{label:"Movement",type:"field_collection",required:0,default_value:null},area:{label:"Areas",type:"taxonomy_term_reference",required:0,default_value:null},log_category:{label:"Log category",type:"taxonomy_term_reference",required:0,default_value:null},log_owner:{label:"Assigned to",type:"entityreference",required:0,default_value:null},lot_number:{label:"Harvest lot number",type:"text",required:0,default_value:null},inventory:{label:"Inventory adjustments",type:"field_collection",required:0,default_value:null},flags:{label:"Flags",type:"list_text",required:0,default_value:null},data:{label:"Data",type:"text_long",required:0,default_value:null},equipment:{label:"Equipment used",type:"entityreference",required:0,default_value:null}}},farm_input:{label:"Input",label_plural:"Inputs",fields:{area:{label:"Areas",type:"taxonomy_term_reference",required:0,default_value:[]},files:{label:"Files",type:"file",required:0,default_value:[]},geofield:{label:"Geometry",type:"geofield",required:0,default_value:null},images:{label:"Photos",type:"image",required:0,default_value:[]},input_method:{label:"Application method",type:"text",required:0,default_value:null},input_purpose:{label:"Purpose",type:"text",required:0,default_value:null},input_source:{label:"Source/manufacturer",type:"text",required:0,default_value:null},material:{label:"Materials",type:"taxonomy_term_reference",required:0,default_value:null},notes:{label:"Notes",type:"text_long",required:0,default_value:null},quantity:{label:"Quantity",type:"field_collection",required:0,default_value:null},asset:{label:"Assets",type:"entityreference",required:0,default_value:null},movement:{label:"Movement",type:"field_collection",required:0,default_value:null},log_category:{label:"Log category",type:"taxonomy_term_reference",required:0,default_value:null},log_owner:{label:"Assigned to",type:"entityreference",required:0,default_value:null},lot_number:{label:"Input lot number",type:"text",required:0,default_value:null},date_purchase:{label:"Date purchased",type:"datestamp",required:0,default_value:null},inventory:{label:"Inventory adjustments",type:"field_collection",required:0,default_value:null},flags:{label:"Flags",type:"list_text",required:0,default_value:null},data:{label:"Data",type:"text_long",required:0,default_value:null},equipment:{label:"Equipment used",type:"entityreference",required:0,default_value:null}}},farm_observation:{label:"Observation",label_plural:"Observations",fields:{area:{label:"Areas",type:"taxonomy_term_reference",required:0,default_value:[]},asset:{label:"Assets",type:"entityreference",required:0,default_value:[]},files:{label:"Files",type:"file",required:0,default_value:[]},geofield:{label:"Geometry",type:"geofield",required:0,default_value:null},images:{label:"Photos",type:"image",required:0,default_value:[]},notes:{label:"Notes",type:"text_long",required:0,default_value:null},quantity:{label:"Quantity",type:"field_collection",required:0,default_value:null},movement:{label:"Movement",type:"field_collection",required:0,default_value:null},log_category:{label:"Log category",type:"taxonomy_term_reference",required:0,default_value:null},log_owner:{label:"Assigned to",type:"entityreference",required:0,default_value:null},membership:{label:"Group membership",type:"field_collection",required:0,default_value:null},inventory:{label:"Inventory adjustments",type:"field_collection",required:0,default_value:null},flags:{label:"Flags",type:"list_text",required:0,default_value:null},data:{label:"Data",type:"text_long",required:0,default_value:null},equipment:{label:"Equipment used",type:"entityreference",required:0,default_value:null}}}}},sXfw:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA"));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var s={state:{errors:[],user:{name:"",email:"",uid:null,isLoggedIn:!1},farmInfo:{name:"",url:""},systemOfMeasurement:"metric",logTypes:n(r("sH3d")).default,currentModule:"",modules:[],mapboxAPIKey:"",settings:{useGeolocation:!0}},mutations:{logError:function(e,t){e.errors=e.errors.concat([t])},dismissError:function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.errors[t],{show:!1});e.errors.splice(t,1,r)},changeUsername:function(e,t){e.user.name=t},changeEmail:function(e,t){e.user.email=t},changeUid:function(e,t){e.user.uid=t},changeFarmName:function(e,t){e.farmInfo.name=t},changeFarmUrl:function(e,t){e.farmInfo.url=t},changeMapboxAPIKey:function(e,t){e.mapboxAPIKey=t},changeSystemOfMeasurement:function(e,t){e.systemOfMeasurement=t},changeLogTypes:function(e,t){e.logTypes=t},setLoginStatus:function(e,t){e.user.isLoggedIn=t},setUseGeolocation:function(e,t){e.settings.useGeolocation=t},updateModule:function(e,t){var r=e.modules.findIndex((function(e){return e.name===t.name}));r>-1?e.modules.splice(r,1,t):e.modules.push(t)},setCurrentModule:function(e,t){e.currentModule=t}}};t.default=s},sdek:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("J4zp")),o=n(r("8hbF")),s=r("CN6I"),i=n(r("5FK+")),l=(0,a.default)(i.default.stores,5),u=l[0],c=l[1],d=l[2],f=l[3],m=l[4],p={actions:{updateCachedLog:function(e,t){var r=e.commit,n=e.rootState;(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,u.name,t)})).then((function(){var e=(0,(0,o.default)(n.shell.logTypes).updateLog)(t,{isCachedLocally:!0});r("addLogs",e)})).catch(console.error)},loadCachedLogs:function(e){var t=e.commit,r=e.getters,n=e.rootState,a=r.logFilters,i=(0,o.default)(n.shell.logTypes).updateLog,l=function(e){var t;if(null===a)t=!1;else{var r=a.type,o=a.done,s=void 0===a.log_owner||null===e.log_owner.data||0===e.log_owner.data.length||e.log_owner.data.some((function(e){return+e.id==+a.log_owner})),i=void 0===r||r.includes(e.type.data),l=void 0===o||e.done.data===!!o;t=s&&i&&l}return!!e.modules&&e.modules.includes(n.shell.currentModule)||t};(0,s.openDatabase)().then((function(e){return(0,s.getRecords)(e,u.name,l)})).then((function(e){var r=e.map((function(e){return i(e,{isCachedLocally:!0})}));t("addLogs",r)})).catch(console.error)},generateLogID:function(){return(0,s.openDatabase)().then((function(e){return(0,s.generateLocalID)(e,u.name)})).catch(console.error)},deleteCachedLog:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.deleteRecord)(e,u.name,t)})).catch(console.error)},deleteAllCachedLogs:function(){(0,s.openDatabase)().then((function(e){return(0,s.clearStore)(e,u.name)})).catch(console.error)},createCachedAsset:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,c.name,t)})).catch(console.error)},updateCachedAsset:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,c.name,t)})).catch(console.error)},deleteAllCachedAssets:function(){(0,s.openDatabase)().then((function(e){return(0,s.clearStore)(e,c.name)})).catch(console.error)},loadCachedAssets:function(e){var t=e.commit;(0,s.openDatabase)().then((function(e){return(0,s.getRecords)(e,c.name)})).then((function(e){t("addAssets",e)})).catch(console.error)},createCachedArea:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,d.name,t)})).catch(console.error)},updateCachedArea:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,d.name,t)})).catch(console.error)},deleteAllCachedAreas:function(){(0,s.openDatabase)().then((function(e){return(0,s.clearStore)(e,d.name)})).catch(console.error)},loadCachedAreas:function(e){var t=e.commit;(0,s.openDatabase)().then((function(e){return(0,s.getRecords)(e,d.name)})).then((function(e){t("addAreas",e)})).catch(console.error)},createCachedUnit:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,f.name,t)})).catch(console.error)},updateCachedUnit:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,f.name,t)})).catch(console.error)},deleteAllCachedUnits:function(){(0,s.openDatabase)().then((function(e){return(0,s.clearStore)(e,f.name)})).catch(console.error)},loadCachedUnits:function(e){var t=e.commit;(0,s.openDatabase)().then((function(e){return(0,s.getRecords)(e,f.name)})).then((function(e){t("addUnits",e)})).catch(console.error)},createCachedCategory:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,m.name,t)})).catch(console.error)},updateCachedCategory:function(e,t){(0,s.openDatabase)().then((function(e){return(0,s.saveRecord)(e,m.name,t)})).catch(console.error)},deleteAllCachedCategories:function(){(0,s.openDatabase)().then((function(e){return(0,s.clearStore)(e,m.name)})).catch(console.error)},loadCachedCategories:function(e){var t=e.commit;(0,s.openDatabase)().then((function(e){return(0,s.getRecords)(e,m.name)})).then((function(e){t("addCategories",e)})).catch(console.error)}}};t.default=p},ssaN:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])}),[],!1,null,null,null);t.default=a.exports},tElN:function(e,t,r){"use strict";r.r(t);var n=r("3sS4"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t.default=a.a},tGHH:function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}})])}),[],!1,null,null,null);t.default=a.exports},"tuT/":function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t("path",{attrs:{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"}})])}),[],!1,null,null,null);t.default=a.exports},uwuV:function(e,t,r){"use strict";r.r(t);var n=r("oi19"),a=r("LauP");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("w/f3");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"2cb58a2b",null);t.default=i.exports},vR1B:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("lSNA")),o=n(r("cDf5")),s=n(r("J4zp")),i=n(r("oCYn")),l=r("L2JU"),u=n(r("HQ1J")),c=n(r("8HxT")),d=n(r("fV+d")),f=n(r("oqYx")),m=r("kiQV");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var v={name:"App",components:{ModuleMenuItems:i.default.component("module-menu-items",{render:function(e){var t=this;return e("div",this.modules.map((function(r){return e("".concat(r.name,"-drawer-items"),{nativeOn:{click:function(){t.$store.commit("setCurrentModule",r.name),t.$store.commit("filterLogs",(function(e){return e.modules.includes(r.name)})),t.$store.dispatch("loadCachedLogs")}}})})))},props:{modules:{type:Array,required:!0}}}),IconMenu:u.default,IconArrowBack:c.default,DrawerList:d.default,DrawerListItem:f.default},data:function(){return{showDrawer:!1,version:m.version}},created:function(){this.$store.commit("setCurrentModule",this.$route.meta.module),this.$store.dispatch("loadCachedUserAndSiteInfo"),this.$store.dispatch("updateUserAndSiteInfo"),this.$store.dispatch("loadCachedLogs"),this.$store.dispatch("loadCachedAssets"),this.$store.dispatch("loadCachedAreas"),this.$store.dispatch("loadCachedUnits"),this.$store.dispatch("loadCachedCategories")},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,l.mapState)({errors:function(e){return e.shell.errors},username:function(e){return e.shell.user.name},userId:function(e){return e.shell.user.uid},isLoggedIn:function(e){return e.shell.user.isLoggedIn},useGeolocation:function(e){return e.shell.settings.useGeolocation},systemOfMeasurement:function(e){return e.shell.systemOfMeasurement},logTypes:function(e){return e.shell.logTypes},farmName:function(e){return e.shell.farmInfo.name},farmUrl:function(e){var t;return""===e.shell.farmInfo.url?"example.farmos.net":null===(t=e.shell.farmInfo.url)||void 0===t?void 0:t.replace(/(^\w+:|^)\/\//,"")},modules:function(e){return e.shell.modules},logs:function(e){return e.farm.logs},areas:function(e){return e.farm.areas},assets:function(e){return e.farm.assets},units:function(e){return e.farm.units},categories:function(e){return e.farm.categories}}),{},(0,l.mapGetters)(["equipment"])),watch:{showDrawer:function(e){e?document.querySelector("body").setAttribute("style","overflow-y: hidden"):document.querySelector("body").setAttribute("style","overflow-y: visible")},$route:function(e){this.$store.commit("setCurrentModule",e.meta.module)}},methods:{closeError:function(e){this.$store.commit("dismissError",e)},setUseGeolocation:function(e){this.$store.commit("setUseGeolocation",e)},removeMetaData:function(e){return e.map((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=(0,s.default)(e,2),r=t[0],n=t[1];return"object"===(0,o.default)(n)&&"data"in n?[r,n.data]:[r,n]})))}))}}};t.default=v},"w/f3":function(e,t,r){"use strict";var n=r("w9LB");r.n(n).a},w9LB:function(e,t,r){},wWkD:function(e,t,r){"use strict";var n=r("7XZL");r.n(n).a},wkee:function(e,t,r){"use strict";r.r(t);var n=r("OuTb"),a=r("8DBe");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("5N10");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"e49bd1d8",null);t.default=i.exports},x2qs:function(e,t,r){"use strict";r.r(t);var n=r("qnip"),a=r("enu1");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("k9oD");var s=r("KHd+"),i=Object(s.a)(a.default,n.a,n.b,!1,null,"f4d4e2ac",null);t.default=i.exports},xvsX:function(e,t,r){},"yI/5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterAndSort=t.sortByVersion=t.runUpgrades=void 0;t.runUpgrades=function e(t){return function(r){if(r.length>0){var n=r.slice(1);return Promise.resolve(r[0].onUpgrade(t)).then((function(){return e(t)(n)}))}}};var n=function e(t,r){if(!r)return t;var n=t[t.length-1],a=t.slice(0,t.length-1);return t.length<1||r.version>n.version?t.concat(r):e(a,r).concat(n)};t.sortByVersion=n;t.filterAndSort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,r){return r.version>e?n(t,r):t}}},"z+16":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return function(t){var r=t.type,n=t.payload;"addLogs"===r&&!1===n.isCachedLocally&&e.dispatch("updateCachedLog",n),"deleteLog"===r&&e.dispatch("deleteCachedLog",n),"addAssets"===r&&n.forEach((function(t){e.dispatch("createCachedAsset",t)})),"deleteAllAssets"===r&&e.dispatch("deleteAllCachedAssets"),"addAreas"===r&&n.forEach((function(t){e.dispatch("createCachedArea",t)})),"deleteAllAreas"===r&&e.dispatch("deleteAllCachedAreas"),"addUnits"===r&&n.forEach((function(t){e.dispatch("createCachedUnit",t)})),"deleteAllUnits"===r&&e.dispatch("deleteAllCachedUnits"),"addCategories"===r&&n.forEach((function(t){e.dispatch("createCachedCategory",t)})),"deleteAllCategories"===r&&e.dispatch("deleteAllCachedCategories"),"addEquipment"===r&&n.forEach((function(t){e.dispatch("createCachedEquipment",t)})),"deleteAllEquipment"===r&&e.dispatch("deleteAllCachedEquipment"),"setUseGeolocation"===r&&localStorage.setItem("useGeolocation",n)}};t.default=n},"zBQ/":function(e,t,r){"use strict";r.r(t);var n=r("KHd+"),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}}),t("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])}),[],!1,null,null,null);t.default=a.exports},"zuT/":function(e,t,r){}});
//# sourceMappingURL=app.0cd66787c1ad77446d23.js.map